<!DOCTYPE html>

<html lang="en">

<head>

<!-- Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="Seungmoon Rieh">
<meta name="keywords" content="">

<!-- Title and image -->
<title>Seungmoon Rieh</title>
<link href="/img/seungmoonrieh.jpg" rel="icon">

<!-- CSS -->
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/monokai-sublime.css" rel="stylesheet">
<link href="/css/site.css" rel="stylesheet">

<!-- JavaScript -->
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script src="/js/include_html.js" type="text/javascript"></script>
<script src="/js/mathjax/tex-chtml.js" type="text/javascript"></script>
<script src="/js/site.js" type="text/javascript"></script>

</head>

<body>

<include src="/header.html"></include>

<div class="container">
<div class="row">
<div class="col-md-12">
<h1 class="my-4">Software Engineering</h1>

<!-- Distributed system BEGIN -->
<div class="card mb-4" id="distributed-system">
  <div class="card-body">
    <h2 class="card-title">Distributed system</h2>
    <ul class="list-unstyled mb-0">
      <li><a href="#distributed-system-">Distributed system</a></li>
    </ul>
  </div>
</div>

<div class="card mb-4" id="distributed-system-">
  <div class="card-body">
    <h2 class="card-title">Distributed system</h2>
    <ul>
      <li>Distributed system challenges</li>
      <ul>
        <li>Network asynchrony - messages take long to deliver, deliver out of order, or not deliver at all</li>
        <li>Partial failures - only some components fail</li>
        <li>Concurrency - execution of multiple computations intervene each other</li>
      </ul>
      <li>Failure types</li>
      <ul>
        <li>Fail-stop - a node halts and remains halted permanently (Easiest scenario)</li>
        <li>Crash - a node halts, but silently</li>
        <li>Omission - a node fails to respond to incoming requests</li>
        <li>Byzantine - a node exhibits arbitrary behavior</li>
      </ul>
      <li>State</li>
      <ul>
        <li>Stateless - maintains no state. Performs purely based on the inputs</li>
        <li>Stateful - maintains and updates states. Results depend on this state</li>
      </ul>
      <li>Quorum</li>
      <ul>
        <li>We write data to the nodes that are only resposible for write operations. We read data from all nodes and return the latest value</li>
        <ul>
          <li>Write is successful when w-1 nodes respond (Coordinator writes to itself first, so we get w writes in total)</li>
          <li>Wait for r answers before returning the results to the client</li>
        </ul>
        <li>Quorum is achieved when R + W > N. At least one node should be both read and write so that readers could get the latest-written value</li>
        <li>If w > r, fast write but slow read because need to go to many nodes for a value</li>
        <li>If r > w, fast read but slow write because need to write to many nodes synchronously</li>
      </ul>
      <li>CAP theorem</li>
      <ul>
        <li>It is impossible to acheive all three at the same time. We can only have two out of three</li>
        <ul>
          <li>Consistency - all nodes see the same data at the same time, every read received the most recent write</li>
          <li>Availability - system must be accessible even when nodes fail, every request receives a response</li>
          <li>Partition tolerance - system must operate even when communications between nodes break</li>
        </ul>
        <li>Network is not reliable, thus we need to support partition tolerance</li>
        <li>We can only choose between consistency or availability in distributed system</li>
        <ul>
          <li>CA - RDBMS (Non-distributed system)</li>
          <li>AP - Dynamo, Cassandra, CouchDB</li>
          <ul>
            <li>BASE DBs choose availability - respond with local data w/o ensuring its the latest with peers</li>
            <li>Good choice if system can live with eventual consistency</li>
          </ul>
          <li>CP - BigTable, HBase</li>
          <ul>
            <li>ACID DBs choose consistency - refuse to respond if cannot check peers</li>
          </ul>
        </ul>
      </ul>
      <li>PACELC theorem</li>
      <ul>
        <li>When there is no network partition during normal operation, then choose between latency or consistency</li>
        <li>To guarantee data consistency, the system will have to delay write operations until the data has been propagated across the system successfully, taking a latency hit</li>
        <li>PA system would go for L (latency) and PC system would go for C (consistency)</li>
        <li><strong>Systems that choose A over C can still support eventual consistency but no strong/sequential/casual!</strong></li>
      </ul>
      <li>Isolation level</li>
      <ul>
        <li>Considers multi object operations</li>
        <li>Serializability</li>
        <ul>
          <li>Two transactions executed concurrently should give same result</li>
          <li>Prevents all anomalies</li>
        </ul>
        <li>Repeatable read</li>
        <ul>
          <li>Data once read by a transaction will not change throughout its course</li>
        </ul>
        <li>Snapshot isolation</li>
        <ul>
          <li>All reads made in a transaction see a consistent snapshot of the database</li>
        </ul>
        <li>Read committed</li>
        <ul>
          <li>Does not allows a transaction to read a data that has not yet been committed by other transaction</li>
        </ul>
      </ul>
      <li>Anomaly</li>
      <ul>
        <li>Dirty write</li>
        <ul>
          <li>Transaction overwrites a value that was written by another transaction that is not committed yet</li>
        </ul>
        <li>Dirty read</li>
        <ul>
          <li>Transaction reads a value that was written by another transaction that is not committed yet</li>
        </ul>
        <li>Fuzzy or non-repeatable read</li>
        <ul>
          <li>Value is retrieved twice during a transaction and the value is different</li>
        </ul>
        <li>Phantom read</li>
        <ul>
          <li>For example, transaction of two queries runs to calculate the maximum and the average. However, another transaction intervenes to insert lots of record, thus making the first transaction return an average that is larger than the maximum</li>
        </ul>
        <li>Lost update</li>
        <ul>
          <li>Two transactions read the same value and then try to update it to two different values</li>
        </ul>
        <li>Read skew</li>
        <ul>
          <li>A transaction can only see partial results of another transaction</li>
        </ul>
        <li>Dirty write</li>
        <ul>
          <li>Two transactions read the same data, but then modify disjoint sets of data</li>
        </ul>
      </ul>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: System Design Interview, Alex Xu
  </div>
</div>
<!-- Distributed system END -->

</div> <!-- /.col-md-12 -->
</div> <!-- /.row -->
</div> <!-- /.container -->

<include src="/footer.html"></include>

</body>

</html>
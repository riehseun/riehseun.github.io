<!DOCTYPE html>

<html lang="en">

<head>

<!-- Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="Seungmoon Rieh">
<meta name="keywords" content="">

<!-- Title and image -->
<title>Seungmoon Rieh</title>
<link href="/img/seungmoonrieh.jpg" rel="icon">

<!-- CSS -->
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/monokai-sublime.css" rel="stylesheet">
<link href="/css/site.css" rel="stylesheet">

<!-- JavaScript -->
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script src="/js/include_html.js" type="text/javascript"></script>
<script src="/js/mathjax.js" type="text/javascript"></script>
<script src="/js/site.js" type="text/javascript"></script>

</head>

<body>

<include src="/header.html"></include>

<div class="container">
<div class="row">
<div class="col-md-12">
<h1 class="my-4">Software Engineering</h1>

<!-- Stack BEGIN -->
<div class="card mb-4" id="stack">
  <div class="card-body">
    <h2 class="card-title">Stack</h2>
    <ul class="list-unstyled mb-0">
      <li><a href="#stack-">Valid Parentheses</a></li>
      <li><a href="#stack-">Simplify Path</a></li>
      <li><a href="#stack-">Largest Rectangle in Histogram</a></li>
      <li><a href="#stack-">Basic Calculator</a></li>
      <li><a href="#stack-">Basic calculator II</a></li>
      <li><a href="#stack-">Flatten Nested List Iterator</a></li>
      <li><a href="#stack-">Decode String</a></li>
      <li><a href="#stack-">Exclusive Time of Functions</a></li>
      <li><a href="#stack-">Minimum Remove to Make Valid Parentheses</a></li>
    </ul>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Valid Parentheses (E)</h2>

<pre><code class="python">class Solution:
    def isValid(self, s: str) -> bool:

        # Use dictionary to pair matching brackets 
        
        brackets = {
            "(": ")",
            "{": "}",
            "[": "]"
        }
        stack = []

        # Time O(n)
        #   n = len(s)
        # Space O(n)
        for c in s:

            # If opening bracket
            if not stack or c in brackets:
                stack.append(c)
                continue
            
            # If closing bracket
            if stack and c not in brackets:
                # If brackets match
                if stack[-1] in brackets and brackets[stack[-1]] == c:
                    stack.pop()
                else:
                    return False

        if stack:
            return False
        
        return True</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/valid-parentheses">20. Valid Parentheses</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Simplify Path (M)</h2>

<pre><code class="python">class Solution:
    def simplifyPath(self, path: str) -> str:

        # Split input path by / to create tokens
        # Remove trailing slash
        # Append each token to stack
        #   If token is .. pop from stack
        #   If token is . skip
        #   if token is "" skip

        paths = path.split("/")
        stack = []
        
        # Time O(n)
        #   n = len(paths)
        # Space O(n)
        for token in paths:

            if token == "..":
                if stack:
                    stack.pop()
                continue
            
            elif token == "." or token == "":
                continue
        
            stack.append(token)

        if not stack:
            return "/"

        result = ""
        for item in stack:
            result += "/" + item 

        return result</code></pre>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://leetcode.com/problems/simplify-path">71. Simplify Path</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Largest Rectangle in Histogram (H)</h2>

<pre><code class="python">class Solution:
    def largestRectangleArea(self, heights: List[int]) -> int:

        # At each index i, find smaller height towards left and right
        # Right boundry
        #   Append heights to stack until finding decreasing sequence
        # Left boundry
        #   Previous height in stack
    
        stack, max_area = [-1], 0

        # Time O(n)
        #   n = len(heights)
        # Space O(n)
        for i, h in enumerate(heights):
            while stack[-1] != -1 and heights[stack[-1]] > h:
                height = heights[stack.pop()]
                width = (i-1) - stack[-1] 
                max_area = max(max_area, height*width)
            stack.append(i)

        while stack[-1] != -1:
            height = heights[stack.pop()]
            width = (len(heights)-1) - stack[-1] 
            max_area = max(max_area, height*width)

        return max_area</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/largest-rectangle-in-histogram">84. Largest Rectangle in Histogram</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Basic Calculator (H)</h2>

<pre><code class="python">class Solution:
    def calculate(self, s: str) -> int:

        # Stack
        # First reverse s
        # Then, when seeing "(", pop and evaluate 
        # until seeing ")", then push back to stack
        # After iterating "s", pop from stack one by one,
        # and evaluate

        s = s.replace(" ", "")
        s = s[::-1]
        print(s)

        stack = []
        operand, n = 0, 0

        # Time O(n)
        #   n = len(s)
        # Space O(n)
        for c in s:
        
            if c.isdigit():
                operand = (10**n*int(c)) + operand
                n += 1
            else:
                if n:
                    stack.append(operand)
                    operand, n = 0, 0
                
                if c == "(":
                    # Deal with case like 1+(-2)
                    if stack[-1] == "-":
                        stack.append(0)
                    val = int(stack.pop())
                    while stack and stack[-1] != ")":
                        sign = stack.pop()
                        if sign == "+":
                            val += int(stack.pop())
                        if sign == "-":
                            val -= int(stack.pop())
                    # Pop ")" from stack
                    stack.pop()  
                    # Push evaludated result inside bracket to stack
                    stack.append(val)
                else:
                    stack.append(c)

        if n:
            stack.append(operand)
                    
        print(stack)
        while stack:
            if len(stack) == 1:
                break
            # Deal with case like 1+(-2)
            if stack[-1] == "-":
                stack.append(0)
            val = int(stack.pop())
            sign = stack.pop()
            if sign == "+":
                val += int(stack.pop())
            if sign == "-":
                val -= int(stack.pop()) 
            stack.append(val)           
        
        return int(stack[0])</code></pre>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://leetcode.com/problems/basic-calculator">224. Basic Calculator</a>
  </div>
</div>

<div class="card mb-4" id="math-">
  <div class="card-body">
    <h2 class="card-title">Basic calculator II (M)</h2>

<pre><code class="python">class Solution:
    def calculate(self, s: str) -> int:

        # Ex. 4-32/6*5+4*22 => +4-32/6*5+4*22
        # If token is a digit
        #   Set current number to digit
        # Else
        #   Check if last operation is "+" or "-", 
        #     The expression should be evaludated later
        #     Add/subtract the expression to/from result
        #     Set last_num to curr_num
        #   Check if last operation is "*" or "/"
        #     The expression should be evaludated immediately
        #     Multiply/divide last_num by curr_num
        
        # Remove all whitespaces from the input string
        s = s.replace(" ", "")
        # This allow last operator to be evaluated
        s = s + "+"
        # Assume operator of first digit is positive
        last_op = "+"

        curr_num, last_num, stack = 0, 0, []
    
        # Time O(n) 
        #   n = len(s)
        # Space O(n)
        for token in s:

            if token.isdigit():
                curr_num = curr_num * 10 + int(token)
                continue    
            
            if last_op == "+":
                stack.append(curr_num)
                last_num = curr_num
            elif last_op == "-":
                stack.append(-curr_num)
                last_num = -curr_num
            elif last_op == "*":
                last_num = stack.pop() * curr_num
                stack.append(last_num)
            elif last_op == "/":
                last_num = int(stack.pop()/curr_num)
                stack.append(last_num)
            curr_num = 0
            last_op = token
                
        return sum(stack)</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/basic-calculator-ii">227. Basic Calculator II</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Flatten Nested List Iterator (M)</h2>

<pre><code class="python"># """
# This is the interface that allows for creating nested lists.
# You should not implement it, or speculate about its implementation
# """
#class NestedInteger:
#    def isInteger(self) -> bool:
#        """
#        @return True if this NestedInteger holds a single integer, rather than a nested list.
#        """
#
#    def getInteger(self) -> int:
#        """
#        @return the single integer that this NestedInteger holds, if it holds a single integer
#        Return None if this NestedInteger holds a nested list
#        """
#
#    def getList(self) -> [NestedInteger]:
#        """
#        @return the nested list that this NestedInteger holds, if it holds a nested list
#        Return None if this NestedInteger holds a single integer
#        """

class NestedIterator:
    def __init__(self, nestedList: [NestedInteger]):
        self.stack = nestedList[::-1]

    def next(self) -> int:
        return self.stack.pop().getInteger()

    def hasNext(self) -> bool:
        while self.stack:
            top = self.stack[-1]
            if top.isInteger():
                return True
            self.stack = self.stack[:len(self.stack)-1] + top.getList()[::-1]
        return False

# Your NestedIterator object will be instantiated and called as such:
# i, v = NestedIterator(nestedList), []
# while i.hasNext(): v.append(i.next())</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/flatten-nested-list-iterator">341. Flatten Nested List Iterator</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Decode String (M)</h2>

<pre><code class="python">class Solution:
    def decodeString(self, s: str) -> str:

        # Stack
        #   Push digit into stack
        #   When seeing [, skip
        #   When seeing ], pop from stack until digit is found
        #   Compute decoded string and push back into stack
        # Scan the stack to compute the final decoded string

        stack, d = [], 0

        # Time O(n)
        #   n = len(s)
        # Space O(n)
        for c in s:
            if c == "[":
                stack.append(str(d))
                d = 0
            if c == "]":
                substring = ""
                while not stack[-1].isdigit():
                    substring = stack.pop() + substring
                substring = int(stack.pop()) * substring
                stack.append(substring)
            if c.isdigit():
                d = 10 * d + int(c)
            if c.isalpha():
                stack.append(c)

        return "".join(stack)</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/decode-string">394. Decode String</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Exclusive Time of Functions (M)</h2>

<pre><code class="python">class Solution:
    def exclusiveTime(self, n: int, logs: List[str]) -> List[int]:

        # When a function starts, push to stack
        # When a function ends, pop from stack
        #   Compute elapsed time when function ends 
        #     For timestamp of currently executed function 
        #     (which is at top of stack)
        #     substract elapsed time from popped function

        stack = []
        times = []
        for _ in range(n):
            times.append(0)
    
        # Time O(n) 
        #   n = len(log)
        # Space O(n)
        for log in logs:
            array = log.split(":")
            function = int(array[0])
            operation = array[1]
            timestamp = int(array[2])

            if operation == "start":
                stack.append((function,operation,timestamp))
            elif operation == "end":
                elapsed_time = timestamp - stack.pop()[2] + 1
                times[function] += elapsed_time
                if stack:
                    times[stack[-1][0]] -= elapsed_time

        return times</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/exclusive-time-of-functions">636. Exclusive Time of Functions</a>
  </div>
</div>

<div class="card mb-4" id="stack-">
  <div class="card-body">
    <h2 class="card-title">Minimum Remove to Make Valid Parentheses (M)</h2>

<pre><code class="python">class Solution:
    def minRemoveToMakeValid(self, s: str) -> str:

        # Use stack to keep track of unmatched parenthesis
        #   Remember the indices of those unmatched parenthesis
        # Rebuild the string excluding the indices from above

        stack = []

        # Time O(n)
        #   n = len(s)
        # Space O(n)
        for i, c in enumerate(s):
            if c == "(":
                stack.append((i,c))
            elif c == ")": 
                if stack and stack[-1][1] == "(":
                    stack.pop()
                else:
                    stack.append((i,c))

        indices = set()
        for i, c in stack:
            indices.add(i)
        
        result = ""
        for i, c in enumerate(s):
            if i not in indices:
                result += c

        return result</code></pre>
  </div>
  <div class="card-footer text-muted">
    <a href="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses">1249. Minimum Remove to Make Valid Parentheses</a>
  </div>
</div>
<!-- Stack END -->

</div> <!-- /.col-md-12 -->
</div> <!-- /.row -->
</div> <!-- /.container -->

<include src="/footer.html"></include>

</body>

</html>
<!DOCTYPE html>

<html lang="en">

<head>


<!-- Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Seungmoon's DevOps Engineering Blog">
<meta name="author" content="Seungmoon Rieh">
<meta name="keywords" content="Python, Groovy, Kubernetes, Docker, Jenkins, Terraform, Bash">

<title>Seungmoon Rieh</title>

<!-- Third Party CSS -->
<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="vendor/highlight/styles/monokai-sublime.css" rel="stylesheet">

<!-- CSS -->
<link href="img/seungmoonrieh.jpg" rel="icon">
<link href="css/site.css" rel="stylesheet">

<!-- Third Party JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="vendor/highlight/highlight.pack.js"></script>

<!-- JavaScript -->
<script src="js/site.js"></script>


</head>


<body>


<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
<div class="container">
<a class="navbar-brand" href="index.html">Seungmoon Rieh</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarResponsive">
    <ul class="navbar-nav ml-auto">
        <li class="nav-item">
            <div class="btn-group">
                <button type="button" class="btn btn-rose dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">DevOps</button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#devops">DevOps</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#aboutme">About Me</a>
                </div>
            </div>
        </li>
        <li class="nav-item">
            <div class="btn-group">
                <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Develop</button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#virtualbox">Virtual Box</a>
                    <a class="dropdown-item" href="#git">GIT</a>
                    <a class="dropdown-item" href="#python">Python</a>
                    <a class="dropdown-item" href="#anaconda">Anaconda</a>
                    <a class="dropdown-item" href="#groovy">Groovy</a>
                </div>
            </div>
        </li>
        <li class="nav-item">
            <div class="btn-group">
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Provision</button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#terraform">Terraform</a>
                    <a class="dropdown-item" href="#salt">Salt</a>
                </div>
            </div>
        </li>
        <li class="nav-item">
            <div class="btn-group">
                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Deploy</button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#jenkins">Jenkins</a>
                    <a class="dropdown-item" href="#docker">Docker</a>
                    <a class="dropdown-item" href="#kubernetes">Kubernetes</a>
                    <a class="dropdown-item" href="#nexus">Nexus</a>
                </div>
            </div>
        </li>
        <li class="nav-item">
            <div class="btn-group">
                <button type="button" class="btn btn-teal dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">OS</button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#linux">Linux</a>
                    <a class="dropdown-item" href="#f5">F5</a>
                </div>
            </div>
        </li>
    </ul>
</div> <!-- /.collapse navbar-collapse -->
</div> <!-- /.container -->
</nav> <!-- /.navbar navbar-expand-lg navbar-dark bg-dark fixed-top -->



<div class="container">
<div class="row">
<div class="col-md-12">
    <h1 class="my-4">Software Engineering</h1>


    <!-- DevOps BEGIN -->
    <div class="card mb-4" id="devops">
        <div class="card-body">
            <h2 class="card-title">DevOps</h2>
            <p class="card-text">DevOps culture aims to achieve efficiency in Software Development Life Cycle. Areas to improve in SDLC will differ by organizations but will generally include</p>
            <ul>
                <li>Deliever busniess requirement in agile fashion</li>
                <li>Reduce time to deploy</li>
                <li>Fast reponse to errors</li>
                <li>Robust security control</li>
                <li>Achieve target reliability</li>
            </ul>

            <h3 class="card-title">DevOps qualifications</h3>
            <ul>
                <li>Branching strategy (Git flow, Github flow)</li>
                <li>Deployment and release strategy (Blue/Green, Canary, Dark Launch)</li>
                <li>Configuration (Salt, Ansible)</li>
                <li>Provisioning (Terraform)</li>
                <li>Containerization (Docker)</li>
                <li>Cloud computing (GCP, Azure, AWS)</li>
                <li>Container orchestration (Kubernetes)</li>
                <li>CI/CD, SDLC (Jenkins)</li>
                <li>Scripting (Bash, Python, Groovy)</li>
                <li>Code build (Maven, npm, gradle)</li>
                <li>Security (SonarQube, Veracode, TLS/SSL, AD/LDAP)</li>
            </ul>

            <ul class="list-unstyled mb-0">
                <li><a href="#devops-1">1. Cloud</a></li>
                <li><a href="#devops-2">2. Continuous Integration</a></li>
                <li><a href="#devops-3">3. Continuous Delivery</a></li>
                <li><a href="#devops-4">4. Microservice-centric architecture</a></li>
                <li><a href="#devops-5">5. Test Automation</a></li>
                <li><a href="#devops-6">6. Infrastructure/Configuration as Code</a></li>
                <li><a href="#devops-7">7. Continuous Monitoring</a></li>
                <li><a href="#devops-8">8. Release strategy</a></li>
                <li><a href="#devops-9">9. Security</a></li>
                <li><a href="#devops-10">10. Scaliability and Reliablity</a></li>
                <li><a href="#devops-11">11. Network</a></li>
                <li><a href="#devops-12">12. Agile</a></li>
                <li><a href="#devops-13">13. DevOps Culture and Metrics</a></li>
                <li><a href="#devops-14">14. DB Basic</a></li>
                <li><a href="#devops-15">15. Pipelining</a></li>
                <li><a href="#devops-16">16. Message vs. Event</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="devops-1">
        <div class="card-body">
            <h2 class="card-title">1. Cloud</h2>
            <p class="card-text">Compute Power (three approaches)</p>
            <ul>
                <li>VM : Physical Hardware -> Operating System -> Hypervisor controller -> VM (App, OS, Virtual Hardware)</li>
                <li>Container : Physical Hardware -> Operating System -> Container Engine -> Container (App, dependencies)</li>
                <li>Serverless : Physical Hardware -> Operating System -> Serverless Runtime -> Function</li>
            </ul>
            <p class="card-text">4 types of computing resource management reponsibility by the users</p>
            <ul>
                <li>On-premises : Networking / Storage / Servers / Virtualization / OS / Middleware / Runtime / Data / Application</li>
                <li>Infrastructure as a Service : OS / Middleware / Runtime / Data / Application</li>
                <li>Platform as a Service : Data / Application</li>
                <li>Software as a Service : Everything is managed by Cloud Provider</li>
            </ul>
            <p class="card-text">Characteristics of cloud native</p>
            <ul>
                <li>Lightweight APIs</li>
                <li>Containers as standard deployment format</li>
                <li>Microservices</li>
                <li>Security at scale (Ex. Security tools provided by the Vendor)</li>
                <li>Reliability (Ex. Fully managed DB with high availability)</li>
                <li>Fast innovation (Ex. Serverless scales without managing infrastructure)</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-2">
        <div class="card-body">
            <h2 class="card-title">2. Continuous Integration</h2>
            <p class="card-text">Continuous Integration means <strong>fast</strong> and <strong>automated</strong> feedback whenever there is code change</p>
            <img class="img-fluid" class="card-img-top" src="img/devops/devops-1-a.png" alt="Card image cap">
            <h3>Continuous Integration may include</h3>
            <ul>
                <li>builds</li>
                <li>unit test</li>
                <li>static analysis</li>
                <li>dynamic analysis</li>
                <li>package</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-3">
        <div class="card-body">
            <h2 class="card-title">3. Continuous Delivery</h2>
            <p class="card-text">Continuous Delivery means fast deployment of new features to production</p>
            <img class="img-fluid" class="card-img-top" src="img/devops/devops-2-a.png" alt="Card image cap">
            <h3>Continuous Delivery requires</h3>
            <ul>
                <li>Externalized Configuration</li>
                <li>Automated tests</li>
                <li>Short build time (Failing slow tests!)</li>
                <li>Isolated and small pipeline steps</li>
                <li>Modularized code-base and parallel builds</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-4">
        <div class="card-body">
            <h2 class="card-title">4. Microservice-centric architecture</h2>
            <p class="card-text">Example migration pattern from legacy system to modern architecture</p>
            <img class="img-fluid" class="card-img-top" src="img/devops/devops-3-a.png" alt="Card image cap">
            <h3>Monolithic</h3>
            <ul>
                <li>All components of application are colocated within a single unit</li>
                <li>Tied to a single technology stack
                <li>Data schema updates can be difficult since entire business logic shared a single DB</li>
                <li>Difficult to scale services independently</li>
            </ul>
            <h3>Microservice</h3>
            <ul>
                <li>Small, independent, and loosely coupled, thus can be deployed and scaled independently</li>
                <li>Impact of bugs from each component can be limited</li>
                <li>Each service is typically responsible for its own data</li>
                <li>Managing dependencies between components can be challenging (Ex. features of component A depends on features of component B)</li>
            </ul>
            <h3>Serverless</h3>
            <ul>
                <li>PaaS where business logic runs as functions</li>
                <li>Executions are event driven (http request, schedule, messages added to a queue, DB events, etc)</li>
                <li>Pros: only charged for what is used, automatic scaling</li>
                <li>Cons: there are execution timeouts of functions for each cloud provider, high frequency exeuctions can be cheaper in VM than in serverless</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-5">
        <div class="card-body">
            <h2 class="card-title">5. Test Automation</h2>
            <ul>
                <li>Unit test - test each method/function</li>
                <li>Integration test  - test all components/modules of application togerther</li>
                <li>Behavior/Functional test  - test business logic</li>
                <li>Non-Functional test - test roll-back, roll-forward, performance/load/stress, penetration, compliance, etc</li>
                <li>User Acceptance test - test user interface</li>
            </ul>
            <p class="card-text">Volumn of each test should be the following</p>
            <img class="img-fluid" class="card-img-top" src="img/devops/devops-4-a.png" alt="Card image cap">
            <ul>
                <li>Because unit tests are for each method/function, there is no limit on how many tests you should have</li>
                <li>Integration/Functional tests should have enough size to catch potential errors at earlier stage</li>
                <li>UI tests will however frequently be modified based on changes on application layout, so this test should be small</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-6">
        <div class="card-body">
            <h2 class="card-title">6. Infrastructure/Configuration as Code</h2>
            <p class="card-text">Infrastructure as Code</p>
            <ul>
                <li>No changes via GUI</li>
                <li>No live modification of instance (Immutable Server) - automating provisioning and recovery</li>
                <li>Versioning every infrastructure changes - making infrastructure reproducible</li>
            </ul>
            <p class="card-text">Configuration as Code</p>
            <ul>
                <li>Idempotency - operation results in the same outcome each time we apply</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-7">
        <div class="card-body">
            <h2 class="card-title">7. Monitoring</h2>
            <ul>
                <li>Hook the test: Not only monitor availablity of services and resource comsumption, also periodically run tests to catch potential errors early</li>
                <li>Auto-correction upon finding problems: bring up the services that are down, clean up disk space by removing tmp files, safe or hard restart the server to clear memory, etc</li>
            </ul>
            <h3>Dickerson hierarchy of reliability</h3>
            <ul>
                <li><strong>monitoring</strong>: understand what is running in production. relibility is measured from customer perspective (there is no difference between system failing due to code bug or scaling issue from customers' point of view)</li>
                <li><strong>incident response</strong>: respond with urgency, rather than react. focus on clear communication and make information accessible</li>
                <li><strong>post-incident review</strong>: this is for pure learning purpose. it must be blameless. it is not document or report. understand that human errors do happen but they are not the cause of failures but symtom of larger problems</li>
                <li><strong>test and release procedures</strong>: </li>
                <li><strong>capacity planning</strong>: </li>
                <li><strong>development</strong>: </li>
                <li><strong>product</strong>: </li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-8">
        <div class="card-body">
            <h2 class="card-title">8. Release strategy</h2>
            <p class="card-text">Blue-Green</p>
            <ul>
                <li>Deployment strategy to avoid downtown during deployment</li>
                <li>Using IaC, deploy new instance "Green" (existing instance will be called "Blue")</li>
                <li>Run tests on Green instance</li>
                <li>Make "Green" the production instance - switch traffic from Blue to Green by re-mapping DNS to Green's IP address, remove Blue from load-balancer and add Green, etc</li>
            </ul>
            <p class="card-text">Carnary</p>
            <ul>
                <li>Similar to Blue-Green but redirect only subset of users instead of all users (choose users who are more active, etc)</li>
                <li>Both Blue and Green would be up during this time</li>
                <li>Great way to do capacity testing on new instance (can always roll-back by redirecting users to old instance)</li>
                <li>Management of multiple versions of Software is required</li>
            </ul>
            <p class="card-text">Dark-launching</p>
            <ul>
                <li>releasing production-ready features to subset of users prior to full release</li>
                <li>Feature toggle - run specific part of code based on configuration stored online</li>
                <li>Turn on features only for subset of users before releasing features to everybody</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-9">
        <div class="card-body">
            <h2 class="card-title">9. Security</h2>
            <h3>SSL (Secure Sockets Layer)</h3>
            <ul>
                <li>Ensure that all data passed between Web server and Browsers remain private</li>
                <li>Web server creates private and public Key</li>
                <li>User submits Certificate Signing Request (CSR), which includes public key, to Certification Authority. CA then will issue SSL Certificate</li>
                <li>Web server will match user's SSL Certificate to its private Key</li>
                <li>When Broswer connects to secure site, it will check whether SSL Certificate is not expired, and it is isseud by Certification Authority that Browser trusts, and it is being used by the website for which it has been issued</li>
            </ul>

            <h3>SSL handshake</h3>
            <ul>
                <li>Client hello - client to server with TLS version</li>
                <li>Server hello - server to client with configuration it picked</li>
                <li>Server key exchange message - server to client with required information to generate pre-master secret</li>
                <li>Certificate request - server to client with certificate type, algorithm, and authorities</li>
                <li>Client certificate - client to server with certificate chain</li>
                <li>Client key exchange message - client to server so that a common key can be generated. Both sides then generate a master secret using pre-master secret, which is then used to generate symmetric key to encrypt session data</li>
            </ul>

            <h3>A layered approach to security</h3>
            <ul>
                <li>Data : attackers are always after this</li>
                <li>Application : free of vulnerabilities, application secrets in a secure storage medium</li>
                <li>Compute : secure access to VMs, implement endpoint protection, keep systems patched and current</li>
                <li>Networking : deny by default, implement secure connectivity to on-premises networks, restrict inbound internet access</li>
                <li>Perimeter : use distributed denial of service (DDoS) protection, use perimeter firewalls to identify malicious attacks</li>
                <li>Identity and access : use SSO and multi-factor authentication</li>
                <li>Physical security : access to physical data centre with compute machines</li>
            </ul>
            <h3>Examples of security breaches and attacks</h3>
            <ul>
                <li>Data : Exposing an encryption key or using weak encryption</li>
                <li>Application : Malicious code injection and execution. For example, SQL injection and cross-site scripting (XSS)</li>
                <li>Compute : Malware executing malicious code to compromise system</li>
                <li>Networking : Unnecessary open ports to the Internet. For example, leaving SSH or RDP open to virtual machines to leading brute-force attacks against your systems</li>
                <li>Perimeter : Denial-of-service (DoS) attacks</li>
                <li>Identity and access : Exposed credentials and toxic combinations of permissions and authorization</li>
                <li>Physical security : Unauthorized access to facilities</li>
            </ul>
            <p class="card-text">Authentication vs Authorization</p>
            <ul>
                <li>Authentication : process of establishing identity of a person</li>
                <li>Authorization : process of establishing what level of access an authenticated person has</li>
            </ul>
            <p class="card-text">Authentication strategy</p>
            <ul>
                <li>Single sign-on : access across applications is granted to a single identity/user, simplifying security model</li>
                <li>Multi-factor authentication : requires two or more elements for full authentication</li>
            </ul>
            <p class="card-text">Encryption</p>
            <ul>
                <li>Encryption : process of making data unreadable and unusable to unauthorized viewers</li>
                <li>Symmetric encryption : uses the same key to encrypt and decrypt the data</li>
                <li>Asymmetric encryption : uses public key and private key pair. Can use one key to encrypt but need both keys to decrypt. Ex. Transport Layer Security (TLS) used in HTTPS</li>
            </ul>
            <p class="card-text">Security concerns</p>
            <ul>
                <li>Input and outputs : Always validate input. Always use parameterized queries. Always encode your output</li>
                <li>Key Vault : Store connection strings, secrets, passwords, certificates, access policies, file locks, and automation scripts</li>
                <li>Framework : For example, Java/Javascript. Keep them updated</li>
                <li>Dependencies : Track vulnerabilities on your 3rd party dependencies</li>
            </ul>

            <p class="card-text">Active Directory - directory service implementation that provide authentication, group and user management, policy administration, etc. It supports both Kerberos and LDAP. It also provides SSO</p>
            <p class="card-text">LDAP (LightWeight Directory Acess Protocol) - open protocol used for directory service authentication</p>
            <p class="card-text">Relationship between AD and LDAP is similar to Apache and HTTP</p>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/@kasunpdh/ssl-handshake-explained-4dabb87cdce">SSL Handshake explained</a> | <a href="https://www.varonis.com/blog/the-difference-between-active-directory-and-ldap/">The Difference Between Active Directory and LDAP</a>
        </div>
    </div>

    <div class="card mb-4" id="devops-10">
        <div class="card-body">
            <h2 class="card-title">10. Scaliability and Reliablity</h2>
            <h3>Scaling</h3>
            <ul>
                <li>Compute load patterns - consistent growth, constantly fluctuating loads, cyclical loads, unpredictable bursts</li>
                <li>Scale sets - load balancer distributes requests across VMs. Uses health probe to determine availability of each VM by pinging it</li>
                <li>Scaling up - adding more resources to a single instance (vertical scaling)</li>
                <li>Scaling out - addition of instances (horizontal scaling)</li>
            </ul>
            <h3>Strategies to achieve scalability and performance</h3>
            <ul>
                <li>Data partitioning - data partitions can be managed and accessed separately</li>
                <li>Caching - store frequently used data for fast retrieval. could be placed at database or application layer</li>
                <li>Autoscaling - dynamically allocate resources to match performance requirements</li>
                <li>Background jobs - tasks such as batch jobs, intensive processing tasks, and long-running processes should run as background jobs, decoupled from applicatio UI to minimize load</li>
                <li>Messaging - requests can continue to flow-in without error if application can’t keep up</li>
                <li>Scale units - define units for scaling</li>
            </ul>
            <h3>Architecting for availability</h3>
            <ul>
                <li>Recovery point objective - Maximum duration of acceptable data loss. For example, 30 minutes of data or four hours of data</li>
                <li>Recovery time objective - Maximum duration of acceptable downtime</li>
                <li>Design backup, restore, replication, and recovery capabilities based on above</li>
            </ul>

        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-11">
        <div class="card-body">
            <h2 class="card-title">11. Network</h2>
            <h3>Load balancing</h3>
            <ul>
                <li>Use of a dedicated instance (or a pair of instances) to dispatch incoming requests to back-end servers</li>
            </ul>
            <p class="card-text">Benefites</p>
            <ul>
                <li>Throughput is improved by parallel processing</li>
                <li>Yield higher availability</li>
                <li>SSL offload - client connects to load balancer via SSL, but redirect requests to servers are made via unencrypted HTTP to reduce load on the servers</li>
                <li>Caching - load balancer can cache popular requests</li>
            </ul>
            <p class="card-text">Serving response back</p>
            <ul>
                <li>Proxing - load balancer receives response from backend and relays it back to the client</li>
                <li>TCP Handoff - server sends response directly to the client</li>
            </ul>
            <p class="card-text">Types</p>
            <ul>
                <li>Equitable dispatching - uses simple round-robin algorithm to distribute traffic evenly between all nodes. For example, Elastic Load Balancer (ELB) of AWS</li>
                <li>Hash-based distribution - requests from the same client for the duration of session are directed to the same server every time by hashing metadata. Pros - store session data in memory than shared data storage like database or Redis cache. Cons - caching work causes small latency. For example, Azure Load Balancer</li>
            </ul>
            <h3>FQDN (Fully Qualified Domain Name)</h3>
            <ul>
                <li>Complete domain name of computer, host, or internet</li>
                <li>Ex. www.github.com - [hostname].[domain].[tld (top-level-domain)]</li>
                <li>When connecting to a host, FQDN must be specified. Then, DNS server finds IP address from the hostname looking at DNS table</li>
            </ul>
            <h3>Reverse proxy</h3>
            <ul>
                <li>Proxy sits on top of clients - used for blocking certain contents (servers are freely accessible through internet)</li>
                <li>Reverse proxy sit on top of servers - used for protection from attacks and SSL encrypting (clients can freely connect to internet)</li>
                <li>Can act as load-balancing but is also useful when there is a single server to increase security</li>
            </ul>
            <h3>Content delivery network</h3>
            <ul>
                <li>Servers closest to the geographic location of users visiting the website responds</li>
                <li>Servers at different geographic locations (CDN) cache the content of original server</li>
                <li>CDN communicates to the original server to deliver contents that have not been cached</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-12">
        <div class="card-body">
            <h2 class="card-title">12. Agile</h2>
            <h3>Waterfall</h3>
            <ul>
                <li>Emphasis on planning to come up with accurate estimates on deliverables</li>
                <li>Fixed deliverables in each phase</li>
                <li>Test and release beome major events in each phase</li>
            </ul>

            <h3>Agile</h3>
            <ul>
                <li>Allows deliverables to move in/out from each sprint (as long as total story points remain the same)</li>
                <li>Test and release happen in much greater frequency for each sprint</li>
                <li>Backlogs are refiend 2-3 sprints ahead and team agrees on each item</li>
            </ul>

            <h3>Agile Manifesto</h3>
            <ul>
                <li>Individuals and interactions</li>
                <li>Working software</li>
                <li>Customer collaboration</li>
                <li>Responding to change</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://agilemanifesto.org/">Agile Manifesto</a>
        </div>
    </div>

    <div class="card mb-4" id="devops-13">
        <div class="card-body">
            <h2 class="card-title">13. DevOps Culture and Metrics</h2>
            <p class="card-text">Goal is to achieve efficiency (more outputs with the same amount of time, which translates to value for the organization)</p>

            <h3>These are some characteristics of DevOps culture</h3>
            <ul>
                <li>There are standards of technologies (tools and programming languages) used across the organization</li>
                <li>Teams across the organization have the same sprint cadence</li>
                <li>All members in the team are participating in code reviews, not just few individuals</li>
                <li>Epics are typically delivered in every quarter and all stories and tasks are tied to epics</li>
                <li>All requirements are mapped to branches of code repository</li>
                <li>code is released on planned basis via "fix version"</li>
                <li>Stories and Tasks marked as either Done or Not Done at the end of each sprint</li>
                <li>Standard branching strategies such as git and/or github flows are used</li>
            </ul>

            <h3>DevOps Metrics</h3>
            <ul>
                <li>Deployment frequency and speed</li>
                <li>Size (amount of stories and tasks) delievered in each sprint</li>
                <li>Lead time: time from starting to work on a feature to deploying it in production</li>
                <li>Time from when errors are detected to when they are resolved</li>
                <li>Number of people involved in deployment</li>
                <li>Number of errors found in production</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-14">
        <div class="card-body">
            <h2 class="card-title">14. DB Basic</h2>
            <h3>Delete Vs. Truncate</h3>
            <ul>
                <li>Truncate - DDL (Data Definition Language), does not require commit to make the change permanent, deleted rows cannot be rolled back, always removes all rows from the table (table structure remains intact)</li>
                <li>Delete - DML (Data Manipulation Language), requires commit to make the change permanent, "where" clause can be used</li>
            </ul>
            <h3>DB indexing</h3>
            <ul>
                <li>Applying indexing on a field creates a data structure holding field value and pointer</li>
                <li>Data structure gets sorted so that search time can be O(logn) with binary search</li>
                <li>Fields with lots of duplicate values degrade benefits of indexing</li>
            </ul>
            <h3>Data types</h3>
            <ul>
                <li>Structured - relational data</li>
                <li>Semi-structured - ymal, json, xml</li>
                <li>Unstructured - photo, video, audio, text</li>
            </ul>
            <h3>Transaction (ACID)</h3>
            <ul>
                <li>Atomicity - either all is done or none is done</li>
                <li>Consistency - data is consistent before and after transaction</li>
                <li>Isolation - trasaction doesn't get affected by other transactions</li>
                <li>Durablility - transactions are permanently saved</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="devops-15">
        <div class="card-body">
            <h2 class="card-title">15. Pipelining</h2>
            <p class="card-text">There are few principles when build a good pipeline for large organizations</p>
            <ul>
                <li>Multiple pipelines to deliver each business case is better than one pipeline ruling the whole Enterprise. One pipeline can become a single point of failure. Moreover, product owner of backlog needs to adhere everyone's concern in the Enterprise, which become an impossible task</li>
                <li>Speed is the key. Complex and over-engineered pipeline increases the duration of feedback loop that can defeat the purpose of automation</li>
                <li>Open-source the code. One team owning private repositories of pipeline implementation puts them at indisputable position</li>
                <li>Minimize tooling. Be mindful that each tool put into the pipeline increases complexity and reduces speed</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/dzerolabs/the-six-horsemen-of-the-devops-apocalypse-a26ee8846f1f">The Six Horsemen of the DevOps Apocalypse</a>
        </div>
    </div>

    <div class="card mb-4" id="devops-16">
        <div class="card-body">
            <h2 class="card-title">16. Message vs. Event</h2>
            <ul>
                <li>Message - used when communication needs guarantee to be processed. Contains raw data. </li>
                <li>Event - used for broadcasting communications (lighter than message). Has publishers and subscribers</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/dzerolabs/the-six-horsemen-of-the-devops-apocalypse-a26ee8846f1f">The Six Horsemen of the DevOps Apocalypse</a>
        </div>
    </div>
    <!-- DevOps END -->


    <!-- Virtual Box BEGIN -->
    <div class="card mb-4" id="virtualbox">
        <div class="card-body">
            <h2 class="card-title">Virtual Box</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#virtualbox-1">1. How to load a linux VDI into Virtual Box</a></li>
                <li><a href="#virtualbox-2">2. Port mapping (8080) from Virtual machine to local machine</a></li>
                <li><a href="#virtualbox-3">3. Enabling copy and paste between local machine and VM</a></li>
                <li><a href="#virtualbox-4">4. Install dependencies</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="virtualbox-1">
        <div class="card-body">
            <h2 class="card-title">1. How to load a linux VDI into Virtual Box</h2>
            <ul>
                <li>Download the latest VDI (64bit) from https://www.osboxes.org/centos</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-a.png" alt="Card image cap" style="max-width:500px">
                <li>From Virtual Box, create a new VM by pointing to the VDI downloaded</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-b.png" alt="Card image cap" style="max-width:300px">
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-c.png" alt="Card image cap" style="max-width:300px">
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-d.png" alt="Card image cap" style="max-width:300px">
                <li>Start the machine</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-e.png" alt="Card image cap" style="max-width:700px">
                <li>Log into the machines using the password "osboxes.org"</li>
                <li>Complete the OS setup</li>
                <li>Open the terminal and type "ip addr show" (Note the ip address in red box)</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-f.png" alt="Card image cap" style="max-width:500px">
                <li>From Virtual Box, go to File-&gt;Preferences-&gt;Network. Clicking &#34;Add&#34; Icon will make &#34;NatNetwork&#34; show up</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-g.png" alt="Card image cap" style="max-width:500px">
                <li>Click &#34;Edit&#34; Icon. From &#34;Port Forwarding&#34;, add Rule as following (Note the IP found from above steps)</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-h.png" alt="Card image cap" style="max-width:500px">
                <li>From Machine Settings-&gt;Network, choose the name &#34;NatNetwork&#34;</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-i.png" alt="Card image cap" style="max-width:500px">
                <li>SSH into your vm by <strong>ssh -p 2222 root@127.0.0.1</strong>. Password should be &#34;osboxes.org&#34;</li>
                <li>Turn off your machine</li>
                <li>Try starting VM headless <strong>/C/Program\ Files/Oracle/VirtualBox/VBoxManage startvm RHEL7 --type headless</strong></li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-j.png" alt="Card image cap"
                style="max-width:500px">
                <li>To turn off VM headless <strong>/C/Program\ Files/Oracle/VirtualBox/VBoxManage controlvm RHEL7 poweroff --type headless</strong></li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-k.png" alt="Card image cap"
                style="max-width:500px">
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="virtualbox-2">
        <div class="card-body">
            <h2 class="card-title">2. Port mapping (8080) from Virtual machine to local machine</h2>
            <ul>
                <li>From Port Forwarding screen, add Rule 2. Use similar approach for other ports</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-2-a.png" alt="Card image cap" style="max-width:500px">
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="virtualbox-3">
        <div class="card-body">
            <h2 class="card-title">3. Enabling copy and paste between local machine and VM</h2>
            <ul>
                <li>From Machine Settings-&gt;General, Select &#34;Bidirectional&#34;</li>
                <img class="img-fluid" class="card-img-top" src="img/virtualbox/virtualbox-1-l.png" alt="Card image cap" style="max-width:500px">
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="virtualbox-4">
        <div class="card-body">
            <h2 class="card-title">4. Install dependencies (Ubuntu)</h2>
<pre><code class="bash"># Enabling ssh from local machine to virtual machine
sudo apt update
sudo apt upgrade
sudo apt install openssh-server
sudo systemctl status ssh</code></pre>

<pre><code class="bash"># Install docker
# Create a file at /etc/apt/sources.list.d/docker.list
# And add this line: deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable
sudo apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo apt update
sudo apt-get install docker-ce docker-ce-cli containerd.io</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Virtual Box END -->


    <!-- Git BEGIN -->
    <div class="card mb-4" id="git">
        <div class="card-body">
            <h2 class="card-title">GIT</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#git-1">1. Git flow</a></li>
                <li><a href="#git-2">2. Useful git commands</a></li>
                <li><a href="#git-3">3. Git concets</a></li>
                <li><a href="#git-4">4. Squashing commits</a></li>
                <li><a href="#git-5">5. Fork vs Clone</a></li>
                <li><a href="#git-6">6. Fix corrupt git repository</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="git-1">
        <div class="card-body">
            <h2 class="card-title">1. Git flow</h2>
            <p class="card-text"></p>
            <img class="img-fluid" class="card-img-top" src="img/git/git-1-a.png" alt="Card image cap">
            <ul>
                <li><strong>master</strong> - represent the state of production</li>
                <li><strong>release</strong> - branch to perform release. Must be merged into both develop and master branches</li>
                <li><strong>develop</strong> - branch for active development. All features branches must be cut from and merged to this branch</li>
                <li><strong>feature</strong> - branch for each developer working on a story/task. Developers should regularly pull from develop branch to keep feature branches up to date</li>
                <li><strong>hotfix</strong> - branch to quickly apply changes to master branch without going through full flow. Must be merged into both master and develop branches</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="git-2">
        <div class="card-body">
            <h2 class="card-title">2. Useful git commands</h2>
            <p class="card-text"></p>
<pre><code class="bash">git remote add origin [remoteUrl] # make the local repository aware of the remote</code></pre>

<pre><code class="bash">git config --list # show the current git config
git config --global user.name # add name
git config --global user.email # add email/code></code></pre>

<pre><code class="bash">git status # show files that have added, modified, and deleted
git add -A # move files to "staged"
git commit -am &lt;message&gt; # move files to "commited"/code>
git push origin &lt;branch&gt; # apply your changes to a particular branch on remote repository</code></pre>

<pre><code class="bash">git pull origin &lt;branch&gt; # pull code from a particular branch on remote repository into your local workspace
git checkout -b &lt;branch&gt; # create a new branch whose code base will be your local workspace/code>
git checkout &lt;branch&gt; # check out code base from a particular branch</code></pre>

<pre><code class="bash">git branch -d &lt;branch&gt; # delete a particular branch from your local
git push origin -d &lt;branch&gt; # delete a particular branch from remote repository
git tag -d &lt;tag&gt; # delete a tag from your local
git push origin -d &lt;tag&gt; # delete a tag from remote repository/code></code></pre>

<pre><code class="bash">git fetch # update tracking of remote branches
git fetch --prune # remove local branches the do not exist in remote
git branch -a # display local and remote branches</code></pre>

<pre><code class="bash">git reset --hard &lt;commit_hash&gt; & git push -f origin [branch] # revert to previous commit in the remote
git fetch --all && git reset --hard origin/[branch_name] # force overwrite local with remote</code></pre>

<!-- <pre><code class="bash">branch=feature; for i in $(git branch | grep $branch); do git branch -D $branch/${i##/*}; done # delete all feature branches in the local
branch=feature; for i in $(git branch -a | grep remotes/origin/$branch); do git push origin --delete $branch/${i##/*} | sort -u; done # delete all feature branches in the remote</code></pre> -->

<!-- probably should use "git branch | grep -v "master" | xargs git branch -D "-->

        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="git-3">
        <div class="card-body">
            <h2 class="card-title">3. Git concepts</h2>
            <p class="card-text"></p>
<pre><code class="bash">git add # move files from "untracked/modified" state to "staged" state
git commit # move files from "staged" state to "committed" state</code></pre>

<pre><code class="bash">git fetch # gather commits from remote that don't exist in local
git merge # integrate commits to your branch
git pull # git fetch + git merge</code></pre>

<pre><code class="bash">branch # a version of code
git cherry-pick # get a commit from one branch and integrate to another branch
HEAD # last commit of current branch</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="git-4">
        <div class="card-body">
            <h2 class="card-title">4. Squashing commits</h2>
            <p class="card-text">When there are too many commits, it may be hard for other people to review your pull requests. Squashing commits comes handy</p>
<pre><code class="bash">git log --oneline # search your commit history and pick the one you want to squash commits from
git rebase -p -i &lt;commit_hash&gt;
# nano editor will open. Use reword/pick/squash to specify what you want to do for each commit. Ctrl-O &amp; Ctrl-T will write your changes
git log --oneline # observe that commits have been squashed
git commit --amend
# nano editor will open. Enter new commit message. Ctrl-O &amp; Ctrl-T will write your changes
git push -f origin &lt;branch&gt; # finally push the changes to your branch</code></pre>

<pre><code class="bash"># How to handle "Cannot 'squash' without a previous commit error"
# Rather than using pick "p", use reword "r" such that
r &lt;commit_hash&gt; &lt;commit_message&gt;
s &lt;commit_hash&gt; &lt;commit_message&gt;
s &lt;commit_hash&gt; &lt;commit_message&gt;
s &lt;commit_hash&gt; &lt;commit_message&gt;
s &lt;commit_hash&gt; &lt;commit_message&gt;
# Then, rename the first commit</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="git-5">
        <div class="card-body">
            <h2 class="card-title">5. Fork vs Clone</h2>
            <p class="card-text">Fork - server side copy of repository</p>
            <p class="card-text">Clone - local copy of repository in a server (include history and branches)</p>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="git-6">
        <div class="card-body">
            <h2 class="card-title">6. Fix corrupt git repository</h2>
<pre><code class="bash">rm -rf .git
git init
git remote add origin &lt;clone_url&gt;
git fetch
git reset origin/master</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Git END -->


    <!-- Python BEGIN -->
    <div class="card mb-4" id="python">
        <div class="card-body">
            <h2 class="card-title">Python</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#python-1">1. Python Basic</a></li>
                <li><a href="#python-2">2. PEP 8</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="python-1">
        <div class="card-body">
            <h2 class="card-title">1. Python Basic</h2>
            <p class="card-text">Python is installed (if Unix) at /usr/local/bin/python3.8</p>
            <p class="card-text">No type checking until runtime (dynamically typed)</p>
            <p class="card-text">Code gets compiled before getting executed (but there is no noticible compilation phase so we normally say it is interpreted language)</p>
            <p class="card-text">Written in C language and runs natively (Other variations include Jython, which is written in Java and runs on JVM)</p>
            <p class="card-text">REPL: Read -> Evaluate -> Print -> Loop</p>
            <br>
            <p class="card-text">Numbers : Operators include // (division discarding fraction), % (remainder), ** (power)</p>
            <p class="card-text">String : type "str". immutable. can be indexed. can be sliced[a:b] where a is included, b is excluded</p>
            <p class="card-text">Lists : mutable. list.append(x), list.remove(x), list.count(x), len(list) method</p>
            <p class="card-text">Stack using list : use list.append(x) and list.pop()</p>
            <p class="card-text">Queue using list : inefficient. Instead use "from collections import deque" and deque.append(x) & deque.popleft()</p>
            <p class="card-text">Dictionary : key-value pair data structure</p>
            <p class="card-text">Range : To use range(1,10) as a list, do list(range(1,10))</p>
            <p class="card-text">Tuple : immutable</p>
            <p class="card-text">Set : no duplicate</p>
            <p class="card-text">Types : "int", "float", "None", "bool" (True/False)</p>
            <p class="card-text">Relational Operators : "==", "!=", etc</p>
            <p class="card-text">"break" keyword terminates the loop and jump to first statement after the loop</p>
            <br>
            <p class="card-text">Shebang : identify which interpreter is used for the program. For example, #!/usr/bin/env python3</p>
            <p class="card-text">Value - equivalent content ("==" operator). Identity - same object ("is" operator)</p>
            <p class="card-text">Arguments are passed by object-reference (mutable objects can be modified)</p>
            <p class="card-text">Everything is object</p>
            <br>
            <p class="card-text">built-in types : int, float, str, list, dict</p>
            <p class="card-text">packages - generally directories</p>
            <p class="card-text">modules - generally files</p>
            <br>
            <p class="card-text">Syntactic sugar for normal function definition
<pre><code class="python">lambda a, b: a+b</code></pre></p>
            <p class="card-text">Standard libraries : "math", etc</p>
<pre><code class="python">import module
from module import function
from module import function as alias
</code></pre>
            <p class="card-text">How to execute python script containing functions</p>
<pre><code class="python">if __name__ == "__main__":
function()</code></pre>
            <p class="card-text">How to read command line parameter</p>
<pre><code class="python">import sys
sys.argv[]</code></pre>

        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="python-2">
        <div class="card-body">
            <h2 class="card-title">2. PEP 8</h2>
            <p class="card-text">PEP 8 is a guideline for best practices in writing Python code</p>

            <p class="card-text">1. Use 4 spaces per indention level. Observe "hanging" indentation</p>
<pre><code class="python"># Good
foo = long_function_name(var_one, var_two,
                         var_three, var_four)

# hanging indent example (no arguments in the first line of the function)
var = function(
    arg_one, arg_two,
    arg_three, arg_four)

# Bad
foo = long_function_name(var_one, var_two,
    var_three, var_four)

# Good
def long_function_name(
        var_one, var_two, var_three,
        var_four):
    print(var_one)

# Bad
def long_function_name(
    var_one, var_two, var_three,
    var_four):
    print(var_one)</code></pre>

            <p class="card-text">2. Limit all lines to maximum 79 characters (72 for docstrings and comments)</p>

            <p class="card-text">3. Watch the line break rule for operators</p>
<pre><code class="python"># Good
income = (gross_wages
          + taxable_interest)

# Bad
income = (gross_wages +
          taxable_interest)</code></pre>

          <p class="card-text">4. Imports should be on separate lines</p>
<pre><code class="python"># Good
import os
import sys

from subprocess import Popen, PIPE

# Bad
import sys, os</code></pre>
            <p class="card-text">Order of imports should be (also there should be line breaks between each type of import)</p>
            <ul>
                <li>Standard library imports</li>
                <li>Related third party imports</li>
                <li>Local application/library specific imports</li>
            </ul>
            <p class="card-text">Wildcard imports should be avoided</p>

            <p class="card-text">5. Avoid unnecessary whitespace</p>
<pre><code class="python"># Good
spam(ham[1], {eggs: 2})

# Bad
spam( ham[ 1 ], { eggs: 2 } )

# Good
x = 1
y = 2
long_variable = 3

# Bad
x             = 1
y             = 2
long_variable = 3

# Good
i = i + 1
submitted += 1
x = x*2 - 1
hypot2 = x*x + y*y
c = (a+b) * (a-b)

# Bad
i=i+1
submitted +=1
x = x * 2 - 1
hypot2 = x * x + y * y
c = (a + b) * (a - b)

# Good
if x>5 and x%2==0:
    print('x is larger than 5 and divisible by 2!')

# Bad
if x > 5 and x % 2 == 0:
    print('x is larger than 5 and divisible by 2!')

# Good
def complex(real, imag=0.0):
    return magic(r=real, i=imag)

# Bad
def complex(real, imag = 0.0):
    return magic(r = real, i = imag)</code></pre>

            <p class="card-text">6. Comments should be complete sentences with first character capitalized. Don't use inline comments to explain obvious fact</p>

<p class="card-text">Doc string shall look something like</p>
<pre><code class="python">"""Retrive and print words from URL

Usage:
python3 words.py &lt;URL&gt;
"""

def fetch_words(url):
"""Fetch a list of words from URL.

Args:
url: the URL of document

Returns:
A list of strings containing words from the document
"""</code></pre>

            <p class="card-text">7. Naming convention</p>
            <ul>
                <li>never use l, O, I as variable names</li>
                <li>classname should be CapWords (same convention should be used for Exceptions)</li>
                <li>functions and variables should be all lowercase separated by spaces</li>
                <li>leading underscore is for non-public method only</li>
                <li>constants should be all uppercase separated by spaces</li>
            </ul>

            <p class="card-text">8. Programming convention</p>

<pre><code class="python"># Good
if foo is not None:

# Bad
if not foo is None:

# Good
def f(x): return 2*x

# Bad
f = lambda x: 2*x</code></pre>

            <p class="card-text">Use ''.startswith() and ''.endswith() instead of string slicing</p>

<pre><code class="python"># Good
if isinstance(obj, int):

# Bad
if type(obj) is type(1):</code></pre>

            <p class="card-text">For sequences, (strings, lists, tuples), use the fact that empty sequences are false</p>

<pre><code class="python"># Good
if not seq:
# Bad
if len(seq):

# Good
if greeting:

# Bad
if greeting == True:
if greeting is True:</code></pre>

            <p class="card-text">9. Line breaks</p>

            <p class="card-text">Surround top-level functions and classes with two blank lines</p>

<pre><code class="python">class MyFirstClass:
    pass


class MySecondClass:
    pass


def top_level_function():
    return None</code></pre>

            <p class="card-text">Surround method definitions inside classes with a single blank line</p>

<pre><code class="python">class MyClass:
    def first_method(self):
        return None

    def second_method(self):
        return None</code></pre>

    <p class="card-text">10. Spanning multiple lines</p>

<pre><code class="python">x = 5
if (x > 3 and
    x < 10):
    # Both conditions satisfied
    print(x)</code></pre>

<pre><code class="python">string = "I am a long long long long long long long long long" \
         " long long long long string."</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://www.python.org/dev/peps/pep-0008">PEP 8 -- Style Guide for Python Code</a>, <a href="https://realpython.com/python-pep8">How to Write Beautiful Python Code With PEP 8</a>
        </div>
    </div>
    <!-- Python END -->


    <!-- Anaconda BEGIN -->
    <div class="card mb-4" id="anaconda">
        <div class="card-body">
            <h2 class="card-title">Anaconda</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#anaconda-1">1. Setup Environment</a></li>
                <li><a href="#anaconda-2">2. Delete Kernel</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="anaconda-1">
        <div class="card-body">
            <h2 class="card-title">1. Setup Environment</h2>
            <p class="card-text">From Anaconda Navigator</p>
            <img class="img-fluid" class="card-img-top" src="img/anaconda/1.png" alt="Card image cap">
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="anaconda-2">
        <div class="card-body">
            <h2 class="card-title">2. Delete Kernel</h2>
<pre><code class="bash"># From "Anaconda Prompt"
jupyter kernelspec list
jupyter kernelspec uninstall [unwanted-kernel]</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Anaconda END -->


    <!-- Groovy BEGIN -->
    <div class="card mb-4" id="groovy">
        <div class="card-body">
            <h2 class="card-title">Groovy</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#groovy-1">1. Groovy Basic</a></li>
            </ul>
        </div>
    </div>


    <div class="card mb-4" id="groovy-1">
        <div class="card-body">
            <h2 class="card-title">1. Groovy Basic</h2>
<pre><code class="groovy">// Groovy common imports
import com.cloudbees.groovy.cps.NonCPS
import groovy.json.JsonBuilder
import groovy.json.JsonOutput
import groovy.json.JsonSlurper
import groovy.json.JsonSlurperClassic

// Groovy commenting
/**
* Description about the method
* @param param1 description about param1
*        param2 description about param2
* @return return value
*/

// "NonCPS" annotation
// This annotation will tell Groovy not to Serialize the method. During the code execution, unserialized code may not be interruptable.
// This annotation is used for example when a method is called instande a constructor, when working with file stream, etc

// Groovy map example
Map map = [
    key: [
        subkey1: "value"
        subkey2: [
            subsubkey1: "value",
            subsubkey2: "value"
        ]
    ]
]

// Initialize a map
Map map = [:]

// Loop through a list
for (i in list) {
    // do something with "i"
}

// Loop through a map
map.each {
    // do something with "it" (for example, "it.key" and "it.value")
}

// Find the value by key in a map
map.find { it.key.toString().trin() == "key" }?.value

// Find files in the current directory
findFIles(glob: '*.yaml')

// Convert YAML to JSON
def absolutePath = "absolute path of the YAML file"
def fileInYaml = readYaml file: absolutePath
def fileInJson = new JsonBuilder(fileInYaml).toPrettyString()

// Check if file exists
def absolutePath = "absolute path of the file"
File file = new File(absolutePath)
file.exists()

// Convert JSON string to JSON object
jsonObject = new JsonSlurperClassic().parseText(jsonString)

// Convert JSON object to JSON string
jsonString = new JsonBuilder(jsonObject).toPrettyString()

// Create a file with context
wtiteFile(file: "fileName", text: fileContent)</code></pre>

        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Groovy BEGIN -->


    <!-- Terraform BEGIN -->
    <div class="card mb-4" id="terraform">
        <div class="card-body">
            <h2 class="card-title">Terraform</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#terraform-1">1. Terraform with Google Cloud</a></li>
                <li><a href="#terraform-2">2. Example: main.tf</a></li>
                <li><a href="#terraform-3">3. Example: vpc.tf</a></li>
                <li><a href="#terraform-4">4. Example: network.tf</a></li>
                <li><a href="#terraform-5">5. Example: instance.tf</a></li>
                <li><a href="#terraform-6">6. Install Terraform (version 0.11.13) in CentOS</a></li>
                <li><a href="#terraform-7">7. Terraform with GCP - common errors</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="terraform-1">
        <div class="card-body">
            <h2 class="card-title">1. Terraform with Google Cloud</h2>
            <p class="card-text">Commands to compile and provision infrastructure with Terraform</p>
            <ul>
                <li>terraform init</li>
                <li>terraform plan</li>
                <li>terraform apply</li>
                <li>terraform destroy (this command tears down instances deployed to GCP)</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/slalom-technology/a-complete-gcp-environment-with-terraform-c087190366f0">A complete GCP environment with Terraform</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-2">
        <div class="card-body">
            <h2 class="card-title">2. Example: main.tf</h2>

<pre><code class="groovy">provider "google" {
credentials = "${file("../../googlecloud/credential.json")}"
project     = "${var.project}"
}

module "vpc" {
source                 = "../modules/global"
var_env                = "${var.env}"
var_company            = "${var.company}"
var_region_name        = "${var.region_name}"
var_ue1_public_subnet  = "${var.ue1_public_subnet}"
var_ue1_private_subnet = "${var.ue1_private_subnet}"
}

module "ue1" {
source                 = "../modules/ue1"
var_env                = "${var.env}"
var_company            = "${var.company}"
var_region_name        = "${var.region_name}"
var_ue1_public_subnet  = "${var.ue1_public_subnet}"
var_ue1_private_subnet = "${var.ue1_private_subnet}"
network_self_link      = "${module.vpc.vpc_self_link}"
subnetwork1            = "${module.ue1.public_subnet_name}"
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/terraform-ansible/blob/master/main/main.tf">main.tf</a></p>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/slalom-technology/a-complete-gcp-environment-with-terraform-c087190366f0">A complete GCP environment with Terraform</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-3">
        <div class="card-body">
            <h2 class="card-title">3. Example: vpc.tf</h2>

<pre><code class="groovy">resource "google_compute_network" "vpc" {
name                    = "${format("%s","${var.var_company}-vpc")}"
auto_create_subnetworks = "false"
routing_mode            = "GLOBAL"
}

resource "google_compute_firewall" "allow-internal" {
name    = "${var.var_company}-fw-allow-internal"
network = "${google_compute_network.vpc.name}"
allow {
protocol = "icmp"
}
allow {
protocol = "tcp"
ports    = ["0-65535"]
}
allow {
protocol = "udp"
ports    = ["0-65535"]
}
}

resource "google_compute_firewall" "allow-http" {
name    = "${var.var_company}-fw-allow-http"
network = "${google_compute_network.vpc.name}"
allow {
protocol = "tcp"
ports    = ["80"]
}
target_tags = ["http"]
}

resource "google_compute_firewall" "allow-bastion" {
name    = "${var.var_company}-fw-allow-bastion"
network = "${google_compute_network.vpc.name}"
allow {
protocol = "tcp"
ports    = ["22"]
}
target_tags = ["ssh"]
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/terraform-ansible/blob/master/modules/global/vpc.tf">vpc.tf</a></p>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/slalom-technology/a-complete-gcp-environment-with-terraform-c087190366f0">A complete GCP environment with Terraform</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-4">
        <div class="card-body">
            <h2 class="card-title">4. Example: network.tf</h2>

<pre><code class="groovy">resource "google_compute_subnetwork" "public_subnet" {
name          = "${format("%s","${var.var_company}-${var.var_env}-${var.var_region_name}-pub-net")}"
ip_cidr_range = "${var.var_ue1_public_subnet}"
network       = "${var.network_self_link}"
region        = "${var.var_region_name}"
}

resource "google_compute_subnetwork" "private_subnet" {
name          = "${format("%s","${var.var_company}-${var.var_env}-${var.var_region_name}-pri-net")}"
ip_cidr_range = "${var.var_ue1_private_subnet}"
network       = "${var.network_self_link}"
region        = "${var.var_region_name}"
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/terraform-ansible/blob/master/modules/ue1/network.tf">network.tf</a></p>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/slalom-technology/a-complete-gcp-environment-with-terraform-c087190366f0">A complete GCP environment with Terraform</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-5">
        <div class="card-body">
            <h2 class="card-title">5. Example: instance.tf</h2>

<pre><code class="groovy">resource "google_compute_instance" "vm1" {
name          = "k8s-master"
machine_type  = "n1-standard-2"
zone          = "${format("%s","${var.var_region_name}-c")}"

tags          = ["ssh","http"]

boot_disk {
initialize_params {
image = "centos-7-v20180129"
}
}

metadata {
foo = "bar"
}

network_interface {
subnetwork = "${google_compute_subnetwork.public_subnet.name}"

access_config {
// Ephemeral IP
}
}

provisioner "remote-exec" {
# You cannot open interactive session with "sudo -i". You must also run all yum commands with -y flag
inline = [
"sudo yum install ansible -y"
]

connection {
host        = "${self.network_interface.0.access_config.0.nat_ip}"
type        = "ssh"
user        = "${var.ssh_user}"
private_key = "${file("~/.ssh/id_rsa")}"
}
}

provisioner "local-exec" {
# Environment variable can be used inside ansible playbook
environment {
PUBLIC_IP                 = "${self.network_interface.0.access_config.0.nat_ip}"
HOSTNAME                  = "k8s-master"
ANSIBLE_HOST_KEY_CHECKING = false # This is must to avoid the error "The authenticity of host can't be established"
}

# You must install "ansible" on the machine where terraform-ansible suites get executed
# Add "-vvv" for verbose output
command     = "ansible-playbook -u ${var.ssh_user} --private-key ~/.ssh/id_rsa ../ansible/k8s-master.yaml -i $PUBLIC_IP,"
}
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/terraform-ansible/blob/master/modules/ue1/instance.tf">instance.tf</a></p>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/slalom-technology/a-complete-gcp-environment-with-terraform-c087190366f0">A complete GCP environment with Terraform</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-6">
        <div class="card-body">
            <h2 class="card-title">6. Install Terraform (version 0.11.13) in CentOS</h2>
            <ul>
                <li>yum install -y zip unzip</li>
                <li>wget https://releases.hashicorp.com/terraform/0.9.8/terraform_0.11.13_linux_amd64.zip</li>
                <li>unzip terraform_0.11.13_linux_amd64.zip</li>
                <li>mv terraform /usr/local/bin/</li>
                <li>terraform --version</li>
            </ul>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://linuxacademy.com/community/posts/show/topic/18181-can-somebody-explain-how-to-install-terraform">Linux Academy</a>
        </div>
    </div>

    <div class="card mb-4" id="terraform-7">
        <div class="card-body">
            <h2 class="card-title">7. Terraform with GCP - common errors</h2>
            <ul>
                <li><strong>"Invalid JWT: Token must be a short-lived token (60 minutes) and in a reasonable timeframe</strong> - This happens when the date and time of OS is out of sync. Run <strong>date +%T -s "10:13:13"</strong> [10: Hour (hh) 13: Minute (mm) 13: Second (ss)] to update it.</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Terraform END -->


    <!-- Salt BEGIN -->
    <div class="card mb-4" id="salt">
        <div class="card-body">
            <h2 class="card-title">Salt</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#salt-1">1. Salt API</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="salt-1">
        <div class="card-body">
            <h2 class="card-title">1. Salt API</h2>

            <p class="card-text">Test to see if Salt API is callable</p>
<pre><code class="python">salt -a pam \* test.ping</code></pre>

            <p class="card-text">Add credential(s) to call Salt API</p>
<pre><code class="python">/etc/salt/master.d/auth.conf</code></pre>

            <p class="card-text">Restart Salt master</p>
<pre><code class="python">sudo service salt-master restart</code></pre>

            <p class="card-text">Check logs</p>
<pre><code class="python">/var/log/salt/master</code></pre>

            <p class="card-text">Check minion configuration</p>
<pre><code class="python">/etc/salt/minion.d/minion.conf</code></pre>

        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Salt END -->


    <!-- Ansible BEGIN -->
<!--                 <div class="card mb-4" id="ansible">
        <div class="card-body">
            <h2 class="card-title">Ansible</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#ansible-1">1. Set up Kubernetes master</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="ansible-1">
        <div class="card-body">
            <h2 class="card-title">Set up Kubernetes master</h2>

<pre><code class="groovy">---
- name: Kubernetes master installation
hosts: all # value here is important!
remote_user: Rieh
become: true</code></pre>

        </div>
        <div class="card-footer text-muted"></div>
    </div> -->
    <!-- Ansible END -->


    <!-- Cloudify BEGIN -->
    <!-- <div class="card mb-4" id="cloudify">
        <div class="card-body">
            <h2 class="card-title">Cloudify</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#cloudify-1">1. Cloudify with Google Cloud</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="cloudify-1">
        <div class="card-body">
            <h2 class="card-title">Cloudify with Google Cloud</h2>
            <p class="card-text">How to setup Cloudify Manager on Redhat</p>
            <ul>
                <li>Install docker from <a href="#docker-8">Installing Docker on Redhat</a></li>
                <li>Run - <strong>sudo docker run --name cfy_manager_local -d --restart unless-stopped -v /sys/fs/cgroup:/sys/fs/cgroup:ro --tmpfs /run --tmpfs /run/lock --security-opt seccomp:unconfined --cap-add SYS_ADMIN -p 80:80 -p 8000:8000 cloudifyplatform/community:18.10.4</strong></li>
                <img class="img-fluid" class="card-img-top" src="img/cloudify/cloudify-1-a.png" alt="Card image cap" style="max-width:500px">
                <li>SSH into docker machine - <strong>docker exec -it cfy_manager_local /bin/bash</strong></li>
                <li>Install plugins <strong>cfy plugins bundle-upload</strong></li>

                <li>Create <strong>Service Account Key</strong> from Google Cloud Console. Upon creation, you can download the key in Json format. Open the json file and find out [values] as you run these commands</li>
                <li>cfy secrets create gcp_client_x509_cert_url --secret-string [value]</li>
                <li>cfy secrets create gcp_client_email --secret-string [value]</li>
                <li>cfy secrets create gcp_client_id --secret-string [value]</li>
                <li>cfy secrets create gcp_project_id --secret-string [value]</li>
                <li>cfy secrets create gcp_private_key_id --secret-string [value]</li>
                <li>cfy secrets create gcp_private_key --secret-string [value]</li>
                <li>cfy secrets create gcp_project_id --secret-string [value]</li>
                <li>cfy secrets create gcp_zone --secret-string [value]</li>
                <li>Now deploy a sample app <strong>cfy install https://github.com/cloudify-cosmo/cloudify-hello-world-example/archive/master.zip -n gcp.yaml -b hello-world-gcp region=[YOUR REGION]</strong></li>
                <li>Run - <strong>cfy deployment outputs [DEPLOYMENT ID]</strong></li>
                <li>You can teardown the deployment - <strong>cfy uninstall [DEPLOYMENT ID]</strong></li>
            </ul>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://cloudify.co/knowledge-base/cloudify-examples-hello-world-example-on-google-cloud/">cloudify-examples-hello-world-example-on-google-cloud</a>
        </div>
    </div> -->
    <!-- Cloudify END -->


    <!-- Jenkins BEGIN -->
    <div class="card mb-4" id="jenkins">
        <div class="card-body">
            <h2 class="card-title">Jenkins</h2>
            <ul class="list-unstyled mb-0">
                <!-- <li><a href="#jenkins-0">What is Jenkins</a></li> -->
                <li><a href="#jenkins-1">1. Designing Jenkins Infrastrue</a></li>
                <li><a href="#jenkins-2">2. Setting up Jenkins master on Linux</a></li>
                <li><a href="#jenkins-3">3. Setting up Jenkins agent on Linux</a></li>
                <!-- <li><a href="#jenkins-4">4. Setting up Jenkins agent on Window</a></li> -->
                <!-- <li><a href="#jenkins-5">5. Folderizing & Role Based Access Control</a></li> -->
                <!-- <li><a href="#jenkins-6">6. Managing Credentials</a></li> -->
                <!-- <li><a href="#jenkins-8">Running Jenkins on docker</a></li> -->
<!--                             <li><a href="#jenkins-7">Pipeline and DSL</a></li>
                <ul>
                    <li><a href="#jenkins-7-1">Maven</a></li>
                    <li><a href="#jenkins-7-2">NPM</a></li>
                    <li><a href="#jenkins-7-3">ANT</a></li>
                    <li><a href="#jenkins-7-4">Nexus</a></li>
                    <li><a href="#jenkins-7-5">BitBucket</a></li>
                    <li><a href="#jenkins-7-6">Email</a></li>
                    <li><a href="#jenkins-7-7">SonarQube</a></li>
                    <li><a href="#jenkins-7-8">Sonatype</a></li>
                    <li><a href="#jenkins-7-9">Veracode</a></li>
                    <li><a href="#jenkins-7-10">SOA Test</a></li>
                    <li><a href="#jenkins-7-11">Deploying code to JBoss</a></li>
                    <li><a href="#jenkins-7-12">Running Jenkins job</a></li>
                </ul>
                <li><a href="#jenkins-8">Pipeline using shared library</a></li>
                <li><a href="#jenkins-10">Multibranch Pipeline</a></li>
                <li><a href="#jenkins-9">Multibranch Pipeline with shared library</a></li>
                <ul>
                    <li><a href="#jenkins-9-1">Pipeline with Shared Library - Architecture 1</a></li>
                    <li><a href="#jenkins-9-2">Pipeline with Shared Library - Architecture 2</a></li>
                    <li><a href="#jenkins-9-3">Pipeline with Shared Library - Architecture 3</a></li>
                    <li><a href="#jenkins-9-4">Pipeline with Shared Library - Architecture 4</a></li>
                    <li><a href="#jenkins-9-11">Pipeline with Shared Library - Builder</a></li>
                    <li><a href="#jenkins-9-12">Pipeline with Shared Library - Builder - MavenBuild</a></li>
                    <li><a href="#jenkins-9-13">Pipeline with Shared Library - Builder - NodeBuild</a></li>
                    <li><a href="#jenkins-9-14">Pipeline with Shared Library - Builder - AngularPackage</a></li>
                    <li><a href="#jenkins-9-21">Pipeline with Shared Library - Publisher</a></li>
                    <li><a href="#jenkins-9-22">Pipeline with Shared Library - Publisher - MavenPublish</a></li>
                    <li><a href="#jenkins-9-23">Pipeline with Shared Library - Publisher - AngularPublish</a></li>
                    <li><a href="#jenkins-9-31">Pipeline with Shared Library - Deployer</a></li>
                    <li><a href="#jenkins-9-32">Pipeline with Shared Library - Deployer - JBossDeploy</a></li>
                    <li><a href="#jenkins-9-41">Pipeline with Shared Library - Notifier</a></li>
                    <li><a href="#jenkins-9-42">Pipeline with Shared Library - Notifier - SCMNotification</a></li>
                    <li><a href="#jenkins-9-43">Pipeline with Shared Library - Notifier - EmailNotification</a></li>
                    <li><a href="#jenkins-9-51">Pipeline with Shared Library - Scanner</a></li>
                    <li><a href="#jenkins-9-52">Pipeline with Shared Library - Scanner - SonarQube</a></li>
                    <li><a href="#jenkins-9-53">Pipeline with Shared Library - Scanner - Sonatype</a></li>
                    <li><a href="#jenkins-9-54">Pipeline with Shared Library - Scanner - Veracode</a></li>
                    <li><a href="#jenkins-9-61">Pipeline with Shared Library - Tester</a></li>
                    <li><a href="#jenkins-9-62">Pipeline with Shared Library - Tester - SOATest</a></li>
                    <li><a href="#jenkins-9-71">Pipeline with Shared Library - Utility - CheckJenkinsJobStatus</a></li>
                    <li><a href="#jenkins-9-72">Pipeline with Shared Library - Utility - CheckRunningBuild</a></li>
                    <li><a href="#jenkins-9-73">Pipeline with Shared Library - Utility - Confluence</a></li>
                    <li><a href="#jenkins-9-74">Pipeline with Shared Library - Utility - CreateBranch</a></li>
                    <li><a href="#jenkins-9-75">Pipeline with Shared Library - Utility - CreatePullRequest</a></li>
                    <li><a href="#jenkins-9-76">Pipeline with Shared Library - Utility - GenerateSalesforceCredential</a></li>
                    <li><a href="#jenkins-9-77">Pipeline with Shared Library - Utility - MergePullRequest</a></li>
                    <li><a href="#jenkins-9-78">Pipeline with Shared Library - Utility - PublishReport</a></li>
                    <li><a href="#jenkins-9-79">Pipeline with Shared Library - Utility - Reporter</a></li>
                    <li><a href="#jenkins-9-711">Pipeline with Shared Library - Utility - RunCommand</a></li>
                    <li><a href="#jenkins-9-712">Pipeline with Shared Library - Utility - RunJenkinsJob</a></li>
                    <li><a href="#jenkins-9-713">Pipeline with Shared Library - Utility - Utilities</a></li>
                </ul>
                <li><a href="#jenkins-11">Maven and pom.xml</a></li>
                <li><a href="#jenkins-12">Common Jenkins pipeline issues and resolutions</a></li>
                <li><a href="#jenkins-13">Jenkins job DSL scripts</a></li> -->
            </ul>
        </div>
    </div>

    <!-- <div class="card mb-4" id="jenkins-0">
        <div class="card-body">
            <h2 class="card-title">What is Jenkins</h2>
            <ul>
                <li>CI tool that helps to automated tasks</li>
                <li>Java-based Web tool</li>
                <li>Highly extendable via plugins</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on January 26, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->

    <div class="card mb-4" id="jenkins-1">
        <div class="card-body">
            <h2 class="card-title">1. Designing Jenkins Infrastrue</h2>
            <p class="card-text">It is advised to structure Jenkins infrastructure with <Strong>Master</Strong> and <strong>Agents</strong></p>

            <p class="card-text">Jenkins <strong>master</strong> should have the following</p>
            <ul>
                <li>Seed job that runs DSL scripts</li>
                <li>Plugins</li>
            </ul>
            <p class="card-text">Jenkins master must have enough disk space to host growing number of job and plugins. The data on Jenkins master is critical and must be backed up regularly. If Jenkins master is hosted on a virtual machine of Cloud, it is wise to host jenkins direcotry on a cinder volumn so that even if the virtual machine is lost, data is still recoverable.</p>

            <p class="card-text">Jenkins <strong>agents</strong> should have the following</p>
            <ul>
                <li>workspaces where files will be pulled-in and jobs will run</li>
                <li>Tools to run the jobs such as maven, npm, etc</li>
            </ul>
            <p class="card-text">The data on Jenkins agents is not critical because they can always be pulled-in from the job configurations. And workspaces can always be deleted and recreated. Thus, disk space and back up of data are less important on Jenkins agents.</p>

            <p class="card-text">Jenkins agents will be <strong>Linux</strong> (Redhat, JBoss, etc) and/or <strong>Windows</strong> (Windows Server, etc). And Jenkins jobs will be configured to run on a specific agent. However, pipeline jobs can run each of their steps on a different agent.</p>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="jenkins-2">
        <div class="card-body">
            <h2 class="card-title">2. Setting up Jenkins master on Linux</h2>
            <p class="card-text">Assuming you've downloaded "jenkins.war", installed it, and are able to access Jenkins UI via [your_server_ip]:8080, there are other steps you need to follow to complete the setup</p>
            <ul>
                <li>Specify the port in which Jenkins master should talk to its agent. Jenkins->Configure GLobal Security->TCP port for JNLP agents-> Fixed:8443</li>
                <li>Set the # of executor of master at 0 so that no builds run on master. Jenkins->Nodes->master-># of executors:0</li>
                <li>Configure authentication strategy. For exmaple, Jenkins->Configure Global Security->Security Realm: Active Directory, Authorization:Role-Based Strategy</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="jenkins-3">
        <div class="card-body">
            <h2 class="card-title">3. Setting up Jenkins agent on Linux</h2>
            <p class="card-text">Agents are necessary to distribute work load</p>
            <ul>
                <li>You can specify #of executors, directory of workspace, way to launch the agent</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <!-- <div class="card mb-4" id="jenkins-8">
        <div class="card-body">
            <h2 class="card-title">Running Jenkins on docker</h2>
            <p class="card-text">https://hub.docker.com/r/library/jenkins</p>
            <ul>
                <li>Must use port mapping to so that user can access Jenkins Web Application</li>
                <li>Must use volumn mapping to persist Jenkins data workspace</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on January 26, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->

<!--                 <div class="card mb-4" id="jenkins-7">
        <div class="card-body">
            <h2 class="card-title">Pipeline and DSL</h2>
            <p class="card-text">Jenkins pipeline is a tool to implement CI/CD. DSL (Domain Specifc Language) is the programming language used to write the Jenkins pipeline</p>
            <p class="card-text">DSL has many keywords, which includes</p>
            <ul>
                <li>dir - specifies workspace in which the code runs</li>
                <li>stage - defines each pipeline stage, which are deplayed on Jenkins UI</li>
                <li>sh - can execute bash commands</li>
                <li>withCredentials - can read credentials from Credential Store of Jenkins</li>
                <li>withEnv - can set Environment variables when running commands</li>
            </ul>
            <p class="card-text">All key words must be written inside <strong>node</strong> block. Otherwise, pipeline would throw compilation error</p>

<pre><code class="groovy">node {

dir()

stage()

sh

}</code></pre>

            <p class="card-text">You can also specify on which agent the job should run by</p>

<pre><code class="groovy">node ("Name-of-your-jenkins-agent") {

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 21, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-1">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Maven</h2>
            <p class="card-text">There are three common operations of Maven</p>
            <ul>
                <li>Running unit tests and building artifacts</li>
                <li>Deploying artifacts as SNAPSHOT to artifact repository</li>
                <li>Releasing artifacts as RELEASE to artifact repository</li>
            </ul>
            <p class="card-text">Each operation can be done as following</p>

<pre><code class="groovy">node {

stage("Maven Build") {
withEnv(["PATH=WHATEVER=PATH_TO_MAVEN:PATH_TO_JDK"]) {
sh """ mvn clean install -B """
}
}

stage("Maven Publish") {
withEnv(["PATH=WHATEVER=PATH_TO_MAVEN:PATH_TO_JDK"]) {
sh """ mvn deploy -DskipTests -B """
}
}

stage("Maven Release") {
withEnv(["PATH=WHATEVER=PATH_TO_MAVEN:PATH_TO_JDK"]) {
sh """ mvn -B release:prepare release:perform """
}
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-2">
        <div class="card-body">
            <h2 class="card-title">Pipeline - NPM</h2>
            <p class="card-text"></p>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-3">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Ant</h2>
            <p class="card-text"></p>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-4">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Nexus</h2>
            <p class="card-text">One common operation with Nexus is to download the latest artfact</p>

<pre><code class="groovy">node {

stage("Download latest artifact from Nexus") {
// These parameters would be specific to artifact you are trying to download
String nexusUrl = "YOUR_NEXUS_URL"
String repository = "YOUR_REPOSITORY"
String groupId = "YOUR_GROUP_ID"
String artifactId = "YOUR_ARTICAT_ID"
String packaging = "PACKAGING"
// Build Nexus end-point using artifact-specific parameters
String nexusLink = nexusUrl+"/"+repository+"/"+groupId.replace(".","/")+"/"+artifactId
sh """
# querying artifact's metadata and
response=\$(curl --silent --compressed ${nexusLink}/maven-metadata.xml)
# parsing xml response to get the version number
version=\$(grep -oPm1 '(?>=&lt;release&gt;)[^<]+' <<< \$response)
# downloading the artifact
wget --no-check-certificate --output-document $DIRECTORY_TO_PLACE_ARTIFACT ${nexusLink}/\$version/${artifactId}-\$version.${packaging}
"""
}

}</code></pre>

            <p class="card-text">You can also upload artifact to nexus using mvn command</p>

<pre><code class="groovy">node {

stage("Upload artifact to Nexus") {
sh """
mvn deploy:deploy-file -Dfile=YOUR_FILE -DgroupId=YOUR_GROUP_ID -DartifactId=YOUR_ARTIFACT_ID -Dversion=YOUR_VERSION -Dpackaging=YOUR_PACKAGING -DgeneratePom=true -DcreateChecksum=true -DrepositoryId=releases -Durl=YOUR_NEXUS_URL_INCLUDING_AUTHENTICATION_AND_PATH_TO_REPOSITORY
"""
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-5">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Bitbucket</h2>
            <p class="card-text">You can send real-time Jenkins build status to Bitbucket. To make http request, you need to install "http_request" plugin</p>

<pre><code class="groovy">node {

stage("Notify Bitbucket") {
String commitHash = sh returnStdout: true, script 'git rev-parse HEAD'
String shortCommitHash = sh returnStdout: true, script 'git rev-parse --short HEAD'
def requestBody = new JsonBuilder([
state: "YOUR_STATE" // can be one of SUCCESSFUL, IN PROGRESS, STOPPED, FAILED
key: env.BRANCH_NAME + "-" + shortCommitHash
url: env.BUILD_URL
])
// Be careful about the endpoint
String requestUrl = "YOUR_BITBUCKET_URL" + "/rest/build-status/1.0/commits/" + commitHash
def response = httpRequest authentication: "YOUR_BITBUCKET_CREDENTIAL", contentType: "APPLICATION_JSON", httpMode: "POST", requestBody: requestBody, url: requestUrl
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-6">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Email</h2>
            <p class="card-text">you need to install "email-ext" plugin</p>

<pre><code class="groovy">node {

stage("Send Email") {
mail bcc: "", body: YOUR_EMAIL_BODY, cc: "", from: "", replyTo: "", subject: YOUR_SUBJECT, to: YOUR_EMAIL_LIST
}

}</code></pre>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-7">
        <div class="card-body">
            <h2 class="card-title">Pipeline - SonarQube</h2>
            <p class="card-text">It is possbile to use mvn command with sonar-maven-plugin</p>

<pre><code class="groovy">node {

stage("SonarQube") {
withSonarQubeEnv("SONARQUBE_ENVIRONMENT") {
withEnv(["PATH=WHATEVER=PATH_TO_MAVEN:PATH_TO_JDK"]) {
    sh """
        mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.3.0.603:sonar -B
    """
}
}
def sonarQubeScanResult = waitForQualityGate()
println sonarQubeScanResult
}

}</code></pre>

            <p class="card-text">If not using Maven, you can use sonar-scanner package. In this case, you need to have project properties file in the code repository</p>

<pre><code class="groovy">node {

stage("SonarQube") {
withSonarQubeEnv("SONARQUBE_ENVIRONMENT") {
withEnv(["PATH=WHATEVER=PATH_TO_SONAR_SCANNER"]) {
    sh """
        sonar-scanner -Dsonar.projectBaseDir=$DIRECTORY_WHERE_PROJECT_PROPERTIES_IS_LOCATED
    """
}
}
def sonarQubeScanResult = waitForQualityGate()
println sonarQubeScanResult
}

}</code></pre>

            <p class="card-text">SONARQUBE_ENVIRONMENT should be set up in the Jenkins (Manage Jenkins -> Configure System). You need supply information such as Sonarqube server url, authentication token, etc</p>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-8">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Sonatype</h2>
            <p class="card-text">In order to use Sonatype scan, you need to install "nexus-jenkins-plugin"</p>

<pre><code class="groovy">node {

stage("SonaType") {
def result = nexusPolicyEvaluation failBuildOnNetworkError: false, iqApplication: "YOUR_SONATYPE_APP_ID", iqStage: "SonaType", jobCredentialsId: ""
if (result != null) {
def criticalIssues = policyEvaluationResult.criticalComponentCount
def severeIssues = policyEvaluationResult.severeComponentCount
def moderateIssues = policyEvaluationResult.moderateComponentCount
println criticalIssues
println severeIssues
println moderateIssues
}
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-9">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Veracode</h2>
            <p class="card-text">In order to use Veracode scan, you need to install "veracode-jenkins-plugin"</p>

<pre><code class="groovy">node {

stage("Veracode") {
withCredentials([usernamePassword(credentialsId: '', passwordVariable: 'VERACODE_PASSWORD', usernameVariable: 'VERACODE_USERNAME')]) {
veracode applicationName: "YOUR_VERACODE_APP_ID", canFailJob: false, createSandBox: true, criticality: "veryhigh", debug: true, sandboxName: "YOUR_VERACODE_SANDBOX_ID", vuser: env.VERACODE_USERNAME, vpassword: env.VERACODE_PASSWORD
}
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-10">
        <div class="card-body">
            <h2 class="card-title">Pipeline - SOA Test</h2>
            <p class="card-text"></p>

<pre><code class="groovy">node {

stage("SOA Test") {
withEnv(["SOATESTPATH=PATH_TO_SOA, SOA_LOCATION=YOUR_SOA_TEST_FOLDER_LOCATION, OPTIONS=YOUR_SOA_TEST_OPTIONS"]) {
bat '''
    "%SOATESTPATH%\\soatestcli.exe" -data %WORKSPACE% -import %WORKSPACE%\\%SOA_LOCATION%\\.project
    "%SOATESTPATH%\\soatestcli.exe" -data %WORKSPACE% -resource %SOA_LOCATION% -config "user://Example Configuration" %YOUR_SOA_TEST_OPTIONS%
'''
}
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-11">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Deploy to JBoss</h2>
            <p class="card-text"></p>

<pre><code class="groovy">node {

stage("JBoss Deploy") {
withCredentials([usernamePassword(credentialsId: "YOUR_DEPLOYMENT_CREDENTIAL", passwordVariable: "DEPLOYMENT_PASSWORD", usernameVariable: "DEPLOYMENT_USERNAME")]) {
// First create a "stage" folder on Jenkins workspace. And create a folder in the target server to deploy code to
sh """
    if [ ! -d ./stage ]
    then
        mkdir stage
    else
        rm -rv stage
        mkdir stage
    fi
    sshpass -p \$DEPLOYMENT_PASSWORD ssh \$DEPLOYMENT_USERNAME@$YOUR_TARGET_IP_ADDRESS '
        mkdir $env.BUILD_TAG
    '
"""
// Move the artifact to deploy to "stage" folder on Jenkins workspace. And trasnfer the artifact to target server
sh """
    cp -rv $env.WORKSPACE/$YOUR_ARTIFACT stage
    sshpass -p $DEPLOYMENT_PASSWORD scp -v -P 22 $env.WORKSPACE/stage/* $DEPLOYMENT_USERNAME@$YOUR_TARGET_IP_ADDRESS:\"/home/$DEPLOYMENT_USERNAME/$env.BUILD_TAG\"
"""
// Use Jboss cli to deploy the artifact
sh """
    sshpass -p $DEPLOYMENT_PASSWORD ssh $DEPLOYMENT_USERNAME@$YOUR_TARGET_IP_ADDRESS '
        find \"/home/$DEPLOYMENT_USERNAME/$env.BUILD_TAG\" -type -f -regex \"^.*\\.\\(war\\|ear\\|jar\\)]" > to_deploy
        while read APP; do
            APP_NAME=\$(basename \$APP | cut -d\"-\" -f1)
            echo $DEPLOYMENT_PASSWORD | sudo -kS $PATH_TO_JBOSS_CLI/jboss.cli.sh --connect deployment-info > temp
            cat temp | awk \"'FNR ==2 {print \$1}'\" | cut -d\"-\" -f1 > temp1
            EXISTING_APP=\$(cat temp)
            if [ -z \$EXISTING_APP ]
            then
                echo \"FIrst time deployment\"
            else
                echo \"Undeploying \$EXISTING_APP\"
                echo $DEPLOYMENT_PASSWORD | sudo -kS $PATH_TO_JBOSS_CLI/jboss.cli.sh --connect --controller=127.0.0.1:9999 /deployment=\$EXISTING_APP:remove
            fi
            echo \"Deploying \$APP_NAME\"
            echo $DEPLOYMENT_PASSWORD | sudo -kS $PATH_TO_JBOSS_CLI/jboss.cli.sh --commands=\"connect --controller=127.0.0.1:9999, deploy \$APP\"
            echo $DEPLOYMENT_PASSWORD | sudo -kS $PATH_TO_JBOSS_CLI/jboss.cli.sh --connect deployment-info > /home/$DEPLOYMENT_USERNAME/$env.BUILD_TAG/outcome.txt
        done < to_deploy
        echo \"Cleaning up"\
    '
"""
}
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-7-12">
        <div class="card-body">
            <h2 class="card-title">Pipeline - Run Jenkins Job</h2>
            <p class="card-text"></p>

<pre><code class="groovy">node {

stage("Run Jenkins Job") {
Map jobParameterMap = [[$class: 'StringParameterValue', name: 'PARAMETER_NAME1', value: 'PARAMETER_VALUE1'], [$class: 'StringParameterValue', name: 'PARAMETER_NAME2', value: 'PARAMETER_VALUE2']]
def result = build job: PATH_TO_YOUR_JOB, parameters: evaluate(jobParameterMap), wait: true
}

}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-8">
        <div class="card-body">
            <h2 class="card-title">Pipeline using shared library</h2>
            <p class="card-text">Instead of writing DSL directly into Jenkins jobs, you can store DSL in a repository and call them from Jenkins jobs. This is the idea of "shared library" and its structure should be the following</p>
            <img class="img-fluid" class="card-img-top" src="img/jenkins/jenkins-8-a.png" alt="Card image cap">
            <p class="card-text">Note that the pipeline steps under "var" folder must implement "call" method. Each pipeline step should begin with</p>

<pre><code class="groovy">#!/usr/bin/groovy
def call(body) {
// Code goes here
}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-10">
        <div class="card-body">
            <h2 class="card-title">Multibranch Pipeline</h2>
            <p class="card-text">Multibranch pipeline allows Jenkins to build jobs <strong>automatically</strong> whenever any change in a branch of code repository is detected by the <strong>Jenkinsfile</strong>. This <strong>Jenkinsfile</strong> should be located in the root of code repository</p>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9">
        <div class="card-body">
            <h2 class="card-title">Multibranch Pipeline with Shared Library</h2>
            <p class="card-text">Multibranch pipeline is where the use of "shared library" becomes a MUST. First of all, the <strong>Jenkinsfile</strong> in the root of code repository should look like</p>

<pre><code class="bash"># NAME_OF_SHARED_LIBRARY should be set in Manage Jenkins -> Configure System
# NAME_OF_BRANCH should be set to a branch used for productionalized code (usually such branch is "master")
# "mainMethod" must be a pipeline step from the shared library. It is a good practice to pass in the name of repository so that repository-specific configuration can be read when executing the pipeline
#!groovy
@Library("NAME_OF_SHARED_LIBRARY@NAME_OF_BRANCH")
mainMethod("NAME_OF_CODE_REPOSITORY")</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-98">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Job Configuration</h2>
            <p class="card-text">Implementation of <strong>resources/com/rieh/jenkins/maven-project/project.yaml</strong></p>

<pre><code class="bash">agent: 'LINUX-AGENT'
tools: ['jdk','maven']
workflow:
branch: 'develop'
steps:
- mavenBuild:
agent: 'LINUX-AGENT'
stage_name: 'MAVEN BUILD'
checkout_scm: true
clean_up_workspace: false
mvn_command: 'mvn clean install'
- sonarQubeScan:
agent: 'LINUX-AGENT'
stage_name: 'SONARQUBE SCAN'
checkout_scm: false
clean_up_workspace: false
sonarqube_strategy: 'MAVEN'
- sonatypeScan:
agent: 'LINUX-AGENT'
stage_name: 'SONATYPE SCAN'
checkout_scm: false
clean_up_workspace: false
sonatype_application_id: 'CFP'
- veracodeScan:
agent: 'LINUX-AGENT'
stage_name: 'VERACODE SCAN'
checkout_scm: false
clean_up_workspace: false
veracode_application_id: ''
veracode_sandbox_id: ''
veracode_upload_pattern: '**/target/**.war'
veracode_wait_for_completion: false
- mavenPublish:
agent: 'LINUX-AGENT'
stage_name: 'MAVEN PUBLISH'
checkout_scm: false
clean_up_workspace: false
mvn_command: 'mvn deploy -DskipTests -B'
version_strategy: 'PATCH'
- jbossDeploy:
agent: 'LINUX-AGENT'
stage_name: 'JBOSS DEPLOY'
checkout_scm: false
clean_up_workspace: false
deployment_env: 'DEV'
deployment_target: ''
deployment_artifact: 'target/**.war'
- soaTest:
agent: 'SOA-AGENT'
stage_name: 'SOA TEST'
checkout_scm: true
clean_up_workspace: true
test_soa_scripts: ''
test_soa_options: ''
- notification:
agent: 'LINUX-AGENT'
stage_name: 'EMAIL NOTIFICATION'
checkout_scm: false
clean_up_workspace: false
notification_type: 'EMAIL'
notification_email_sender: ''
notification_email_recipients: ''</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-1">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Architecture 1</h2>

            <p class="card-text">We want to treat <strong>Jenkinsfile</strong> as a kind of configuration file that projects can choose during runtime. Thus, the content of <strong>Jenkinsfile</strong> should be minimized so that major logic is handled in the main method</p>

            <p class="card-text">There are many things to do in the main methods. First of all, we want to identify the project by parsing the SCM url so that we can pick the right configuration file for that project</p>

<pre><code class="groovy">String scmUrl = this.scm.getUserRemoteConfigs()[0].getUrl()
String scmName = scmUrl.split("/")[scmUrl.split("/").size()-1].replace(".git", "")</code></pre>

            <p class="card-text">Then, we want to go ahead to grap the configuration file for the project. There will always be two kinds of configuration file: 1. Global config that applies to all projects 2. Project config, which is specific for the project and can overide the global config during runtime. The following step shows how these two configs can be consolidated</p>

<pre><code class="groovy">node {
String globalConfigString = this.libraryResource("com/rieh/jenkins/util/default_settings.yaml")
String projectConfigString = this.libraryResource("com/rieh/jenkins/$scmName/jenkinsConfig.yaml")
this.writeFile file: "global_config", text: globalConfigString
this.writeFile file: "project_config", text: projectConfigString
Map globalConfig = this.readYaml file: "global_config"
Map projectConfig = this.readYaml file: "project_config"
config = com.rieh.jenkins.util.Utilities.reconcileConfig(projectConfig, globalConfig)
}</code></pre>

            <p class="card-text">Next step is to find the pipeline workflow for the current branch. We also need to consider the case where there are default steps to run when the pipeline workflow for the current branch is not defined in the project configuration file</p>

<pre><code class="groovy">Map config = null
Map workflow = null
Map defaultWorkflow = null
String currentBranch = env.BRANCH_NAME.split('/')[0]

currentBuild.result = "SUCCESS"
for (wf in config.workflow) {
if (wf.branch == currentBranch) {
workflow = wf
}
else if (wf.branch == config.default_branch) {
defaultWorkflow = wf
}
}
if (workflow == null) {
if (defaultWorkflow == null) {
currentBuild.result = "ABORTED"
return // exit pipeline prematurely
}
else {
workflow = defaultWorkflow
}
}</code></pre>

            <p class="card-text">It is possible that you have multiple Jenkins masters with different Jenkins version and different sets of plugins. This means the syntax of shared pipeline library may work in one Jenkins master but not in the others. Thus, you would need "feature toggle" for the code base such that different methods are triggered depending on which Jenkins master that the code is running. To to so, we first need to identify the Jenkins master</p>

<pre><code class="groovy">String internalHostname = InetAddress.localHost.canonicalHostName
switch(internalHostName) {
case "[internalHostName1]":
config.pipeline_version = "v1"
break
case "[internalHostName2]":
config.pipeline_version = "v2"
break
default:
currentBuild.result = "ABORTED"
return // exit pipeline prematurely
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/var/mainMethod.groovy"/>mainMethod.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 9, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-2">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Architecture 2</h2>

            <p class="card-text">Here we write Utilities class the provide "static" methods</p>

<pre><code class="groovy">package com.rieh.jenkins.util
import java.util.Map

@Singleton
public class Utilities {

}</code></pre>

            <p class="card-text">The implementation of "reconcileConfig" methods from the "mainMethod.groovy" is given here</p>

<pre><code class="groovy">public static Map reconcileConfig(Map projectConfig, Map globalConfig) {
if (projectConfig == null) {
return globalConfig
}
else {
Map config = globalConfig.clone()
for (item in projectConfig) {
config[item.key] = projectConfigp[item.key]
}
return config
}
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/Utilities.groovy"/>Utilities.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 9, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>

    <div class="card mb-4" id="jenkins-9-3">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Architecture 3</h2>

            <p class="card-text">Io structure the shared pipeline library, we will need an abstract class that represents what we are trying to do. We are really writing pipeline steps, so lets create an abstract class "Step". Implemeting the interface "Serializable" is very important when writing Jenkins pipeline, which we will explore in a separate section</p>

<pre><code class="groovy">package com.rieh.jenkins
public abstract class Step implements Serializable {

}</code></pre>

            <p class="card-text">On top of declaring variables and abstract methods, we want to have some methods that can be used by children classes that extends it (Thus the "protected" scope). An example of useful method is to run Bash or Shell command depending on which OS the command is run</p>

<pre><code class="groovy">protected void runOsCMD(Object scope, String command) {
if (scope.isUnix()) {
scope.sh(command)
} else {
scope.bat(command)
}
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/Step.groovy"/>Step.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 9, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-4">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Architecture 4</h2>

            <p class="card-text">We also need a class that will produce reports on execution of Jenkins pipeline. This report can be sent via email after each pipeline workflow finishes</strong></p>

<pre><code class="groovy">package com.rieh.jenkins.util

@Singleton
public class Reporter {

}</code></pre>

            <p class="card-text">This class should contain methods such as</p>

<pre><code class="groovy">public static void setupReporting(Object scope) {
scope.writeFile file: 'reporting/build_report.html', text: ""
scope.stach includes: 'reporting/*', name: java.net.URLDecoder.decode(scope.env.BUILD_TAG).replace('/','-')
}</code></pre>

<pre><code class="groovy">public static void addToReport(Object scope, String report, String agent) {
scope.unstash name: java.net.URLDecoder.decode(scope.env.BUILD_TAG).replace('/','-')
def appender = scope.readFile file: 'reporting/build_report.html'
appender += report
scope.writeFile file: 'reporting/build_report.html', text: appender
scope.stash includes: 'reporting/*', name: java.net.URLDecoder.decode(scope.env.BUILD_TAG).replace('/','-')
}</code></pre>

<pre><code class="groovy">public static String consolidateReport(Object scope) {
scope.unstash name: java.net.URLDecoder.decode(scope.env.BUILD_TAG).replace('/','-')
def report = this.openReport(scope)
report += scope.readFile('reporting/build_report.html')
report += this.closeReport()
scope.stash includes: 'reporting/*', name: java.net.URLDecoder.decode(scope.env.BUILD_TAG).replace('/','-')

return report
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/Reporter.groovy"/>Reporter.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 10, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-11">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Builder</h2>

            <p class="card-text">"Building the code package" is one of the initial steps for the pipeline workflow. We can first write another abstract class "Builder" that extends earlier "Step" class. </p>

<pre><code class="groovy">package com.rieh.jenkins.build

public abstract class Builder extends com.rieh.jenkins.Step {

protected abstract void build(Map config)

protected void execute(Map config) throws Exception {
build(config)
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/build/Builder.groovy"/>Builder.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 10, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-12">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Builder - MavenBuild</h2>
            <p class="card-text">We can write "MavenBuild" class that extends above "Builder" abstract class. This "MavenBuild" class will implement the abstract "build" method from "Builder" class and abstract "report" method from "Step class"</p>

<pre><code class="groovy">package com.rieh.jenkins.build.java

public class MavenBuild extends com.rieh.jenkins.build.Builder {

public MavenBuild(Object scope, String name) {
this.scope = scope
this.name = name
}

protected String report(Map config, String status) {
return com.rieh.jenkins.util.Reporter.simpleReport(name, status)
}

protected void build(Map config) throws Exception {
switch(config.pipeline_version) {
case "v1":
    buildWithEnv(config)
    break
case "v2":
    buildWithMaven(config)
    break
default:
    status = "FAILURE"
}
}

}</code></pre>

            <p class="card-text">Here we have the use case of "feature toggle" we've implemented in the "mainMethod". Depending on the version, "MavenBuild" class will execute different method that executes maven build in different way</p>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/build/java/MavenBuild.groovy"/>MavenBuild.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 10, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-13">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Builder - NodeBuild</h2>
            <p class="card-text">We can also perform npm build just like we did for maven. Following code will remove "node_modules" folder using the pipeline syntax</p>

<pre><code class="groovy">Boolean result = fileExists "node_modules"
if (result) {
dir("node_modules") {
deleteDir()
}
}</code></pre>

            <p class="card-text">Then we can run the npm command (config.install_command) passed through configuration after removing the cache folder</p>

<pre><code class="groovy">private final String NPM_CACHE_FOLDER = '.cache'

String command = """
if [ -d ${NPM_CACHE_FOLDER} ] ; then
rm -rf ${NPM_CACHE_FOLDER}
fi
mkdir ${NPM_CACHE_FOLDER}
${config.install_command} --cache=${NPM_CACHE_FOLDER}
"""
runOsCMD(scope, command)</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/build/node/NodeBuild.groovy"/>NodeBuild.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 14, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-14">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Builder - AngularPackage</h2>
            <p class="card-text">This step shows how to package Angular code into an artifact</p>

<pre><code class="groovy">def pack = scope.readJSON file: "${currentDirectory}${config.workspace}/package.json"
String artifact = "${pack.name}"
if (scope.isUnix()) {
command = """
zip -r target/${artifact}.zip ${config.package_directory} ${config.exclude_string}
"""
runOsCMD(scope, command)
} else {
scope.zip dir: '.', glob: '', zipFile: "target/${artifact}.zip"
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/build/node/AngularPackage.groovy"/>AngularPackage.groovy</p>

        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>


    <div class="card mb-4" id="jenkins-9-21">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Publisher</h2>

            <p class="card-text">Here we will cover how to do pubish code into artifact repository</p>

<pre><code class="groovy">package com.rieh.jenkins.publish

public abstract class Publisher extends com.rieh.jenkins.Step {

protected abstract void publish(Map config)

protected void execute(Map config) throws Exception {
publish(config)
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/publish/Publisher.groovy"/>Publisher.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-22">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Publisher - Maven Publish</h2>

            <p class="card-text">We want to publish artifact during the pipeline workflow. The following shows how to do it with maven in two ways</p>

<pre><code class="groovy">String toolString = setupTools(config)
scope.withEnv(["PATH+WHATEVER=${toolString}"]) {
runOsCMD(scope, "${config.maven_command}")
}</code></pre>

<pre><code class="groovy">scope.withMaven(maven: config.maven, globalMavenSettingsConfig: config.global_maven_setting) {
runOsCMD(scope, "${config.maven_command}")
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/publish/java/MavenPublish.groovy"/>MavenPublish.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-22">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Publisher - Maven Release</h2>

            <p class="card-text">Similar to Maven Publish, we have the following for Maven Release</p>

<pre><code class="groovy">String credentialId = scope.scm.getUserRemoteConfigs()[0].getCredentialsId()
scope.sshagent([credentialId]) {
cleanRelease(config, currentDirectory+config.workspace+"/pom.xml")
String currentVersion = getCurrentVersion(config, currentDirectory+config.workspace+"/pom.xml")
String toolString = setupTools(config)
scope.withEnv(["PATH=WHATEVER=${toolString}"]) {
runOsCMD(scope, "${config.maven_command} -DreleaseVersion=${currentVersion}")
}
}</code></pre>

<pre><code class="groovy">String credentialId = scope.scm.getUserRemoteConfigs()[0].getCredentialsId()
scope.sshagent([credentialId]) {
cleanRelease(config, currentDirectory+config.workspace+"/pom.xml")
String currentVersion = getCurrentVersion(config, currentDirectory+config.workspace+"/pom.xml")
scope.withMaven(maven: config.maven, globalMavenSettingsConfig: config.global_maven_setting) {
runOsCMD(scope, "${config.maven_command} -DreleaseVersion=${currentVersion}")
}
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/publish/java/MavenRelease.groovy"/>MavenRelease.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-23">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Publisher - Angular Publish</h2>

            <p class="card-text">For projects without pom.xml files, we will use "mvm" commands fo publish artifact. For example of Angular, the following can be used</p>

<pre><code class="groovy">incrementNodeVersion(config)
String command = """
RELEASE_VERSION=\$(cat package.json | jq -r \'.version\')
NAME=\$(cat package.json | jq -r \'name\')
mvn deploy:deploy-file -DgroupId=${config.group_id} -DartifactId=\$NAME -Dversion=\$RELEASE_VERSION -DuniqueVersion=false -Dpackaging=${config.packaging} -DrepositoryId=${config.repository} -Durl=${config.nexus_url}/${config.repository} -Dfile=target/\$NAME.zip -B
"""
runOsCMD(scope, command)</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/publish/node/AngularPublish.groovy"/>AngularPublish.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-31">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Deployer</h2>
            <p class="card-text">Here, we will cover various type of depoyment</p>

<pre><code class="groovy">package com.rieh.jenkins.deploy

public abstract class Deployer extends com.rieh.jenkins.Step {

protected abstract void deploy(Map config)

protected void execute(Map config) throws Exception {
deploy(config)
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/deploy/Deployer.groovy"/>Deployer.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 16, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-32">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Deployer - JBossDeploy</h2>
            <p class="card-text">Deploying war/ear files to jboss server is a common operation</p>

<pre><code class="groovy">private void sendApplication(Map config) throws Exception {
scope.withCredentials([scope.usernamePassword(credentialsId: config.get("deployment_"+config.deployment_env.toLowerCase()+"_credentials"), passwordVariable: 'DEPLOY_PW', usernameVariable: 'DEPLOY_ACCOUNT')]) {
String command = """
if [ ! -d ./stage ] ; then
    mkdir stage
else
    rm -rv stage
    mkdir stage
fi
sshpass -p \$DEPLOY_PW ssh ${scope.env.DEPLOY_ACCOUNT.toLowerCase()}@${config.deployment_target} '
    mkdir \"${scope.env.BUILD_TAG}\"
'
cp -rv ${currentDirectory}/${config.deployment_artifact} ${currentDirectory}/stage
sshpass -p \$DEPLOY_PW scp -v -P 22 ${currentDirectory}/stage/* ${scope.env.DEPLOY_ACCOUNT.toLowerCase()}@${config.deployment_target}:\"/home/${scope.env.DEPLOY_ACCOUNT.toLowerCase()}/${scope.env.BUILD_TAG}\"
"""
runOsCMD(scope, command)
}
}</code></pre>

<pre><code class="groovy">private void installApplication(Map config) throws Exception {
scope.withCredentials([scope.usernamePassword(credentialsId: config.get("deployment_"+config.deployment_env.toLowerCase()+"_credentials"), passwordVariable: 'DEPLOY_PW', usernameVariable: 'DEPLOY_ACCOUNT')]) {
String command = """
sshpass -p \$DEPLOY_PW ssh ${scope.env.DEPLOY_ACCOUNT.toLowerCase()}@${config.deployment_target} '
    cd ${scope.env.BUILD_TAG}
    find \"/home/${scope.env.DEPLOY_ACCOUNT.toLowerCase()}/${scope.env.BUILD_TAG}\" -type f -regex \"^.*\\.\\(war\\|ear\\|jar\\)\" > to_deploy
    while read APP; do
        APP_NAME=\$(basename \$APP)
        echo ${scope.env.DEPLOY_PW} | sudo -kS ${config.jboss_cli_path} --connect deployment-info > temp
        cat temp | grep \$(basename \$APP) | cut -d\" \" -f1 > temp1
        EXISTING_APP=\$(cat temp1)
        if [ -z \$EXISTING_APP ]
        then
            echo \"First time deployment\"
        else
            echo \"Undeploying \$EXISTING_APP\"
            echo ${scope.env.DEPLOY_PW} | sudo -kS ${config.jboss_cli_path} --connect --controller=127.0.0.1:9999 /deployment=\$EXISTING_APP:remove
            echo ${scope.env.DEPLOY_PW} | sudo -kS ${config.jboss_cli_path} --connect deployment-info
        fi
        echo \"Deploying \$APP_NAME\"
        echo ${scope.env.DEPLOY_PW} | sudo -kS ${config.jboss_cli_path} --commands=\"connect --controller=127.0.0.1:9999, deploy \$APP\"
        echo ${scope.env.DEPLOY_PW} | sudo -kS ${config.jboss_cli_path} --connect deployment-info > /home/${scope.env.DEPLOY_ACCOUNT.toLowerCase()}/${scope.env.BUILD_TAG}/outcome.txt
    done < to_deploy
    echo \"Cleaning up\"
'
"""
runOsCMD(scope, command)
}
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/deploy/jboss/JBossDeploy.groovy"/>JBossDeploy.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on September 22, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-41">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Notifier</h2>
            <p class="card-text">Notifying users with build information via scm/email/etc is very useful</p>

<pre><code class="groovy">package com.rieh.jenkins.notify

public abstract class Notifier extends com.rieh.jenkins.Step {

protected abstract void notify(Map config)

protected void execute(Map config) throws Exception {
notify(config)
}

protected boolean sendNotification(Map config) throws Exception {
config.notification_cases.contains(scope.currentBuild.result) ? true : false
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/notify/Notifier.groovy"/>Notifier.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-42">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Notifier - SCMNotification</h2>
            <p class="card-text"></p>

<pre><code class="groovy">String state = null
switch(scope.currentBuild.result) {
case "FAILURE":
state = "FAILED"
break
case "ABORTED":
state = "STOPPED"
break
case "SUCCESS":
state = "SUCCESSFUL"
break
case "UNSTABLE":
state = "SUCCESSFUL"
break
}
if (config.in_progress) {
state = "INPROGRESS"
}
String commitHash = scope.sh returnStdout: true, script: 'git rev-parse HEAD'
String shortCommitHash = scope.sh returnStdout: true, script: 'git rev-parse --short HEAD'
def json = new JSONBuilder([
name: "${currentBranch} ${buildNumber}",
state: state,
key: currentBranch + "-" + shortCommitHash,
url: scope.env.BUILD_URL
]).toString()
def response = scope.httpRequest authentication: config.notification_scm_account_id, contentType: 'APPLICATION_JSON', httpMode: 'POST, requestBody: json, url: "https://YOUR_BITBUCKET_URL/rest/build-status/1.0/commits/${commitHash}", consoleLogResponseBody: true</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/notify/scm/SCMNotification.groovy"/>SCMNotification.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-43">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Notifier - EmailNotification</h2>
            <p class="card-text"></p>

<pre><code class="groovy">String report = com.rieh.jenkins.util.Reporter.consolidateReport(scope)
String subject = getSubject(config)
scope.mail bcc: '', body: report, cc: '', from: config.notification_email_sender, reployTo: '', subject: subject, to: config.notification_email_recipients, mimeType: 'text/html'</code></pre>

<pre><code class="groovy">private String getSubject(Map config) throws Exception {
def priorStatus = scope.currentBuild.getPreviousBuild()?.getResult()
def currentStatus = scope.currentBuild.result

String status = null
if (currentStatus == "SUCCESS" && priorStatus != "SUCCESS") {
status = "FIXED"
} else if (priorStatus == "SUCCESS" && currentStatus != "SUCCESS") {
status = "BROKEN"
} else {
status = scope.currentBuild.result
}

return config.mal_code + " => " + status
}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/notify/email/EmailNotification.groovy"/>EmailNotification.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-51">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Scanner</h2>
            <p class="card-text">Various code scan can also be pipeline steps</p>

<pre><code class="groovy">package com.rieh.jenkins.scan

public abstract class Scanner extends com.rieh.jenkins.Step {

protected abstract void scan(Map config)

protected void execute(Map config) throws Exception {
scan(config)
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/scan/Scanner.groovy"/>Scanner.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-52">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Scanner - SonarQube</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/scan/sonarqube/SonarQube.groovy"/>SonarQube.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-53">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Scanner - Sonatype</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/scan/sonatype/Sonatype.groovy"/>Sonatype.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-54">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Scanner - Veracode</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>
            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/scan/veracode/Veracode.groovy"/>Veracode.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-61">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Tester</h2>
            <p class="card-text"></p>

<pre><code class="groovy">package com.rieh.jenkins.test

public abstract class Tester extends com.rieh.jenkins.Step {

protected abstract void runTests(Map config)

protected void execute(Map config) throws Exception {
runTests(config)
}

}</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/test/Tester.groovy"/>Tester.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 20, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-62">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Tester- SOATest</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/test/soatest/SOATest.groovy"/>SOATest.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 20, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-71">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - CheckJenkinsJobStatus</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/CheckJenkinsJobStatus.groovy"/>CheckJenkinsJobStatus.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on February 20, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-72">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - CheckRunningBuild</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/CheckRunningBuild.groovy"/>CheckRunningBuild.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-73">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - Confluence</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/Confluence.groovy"/>Confluence.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-74">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - CreateBranch</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/CreateBranch.groovy"/>CreateBranch.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-75">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - CreatePullRequest</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/CreatePullRequest.groovy"/>CreatePullRequest.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-76">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - GenerateSalesforceCredential</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/GenerateSalesforceCredential.groovy"/>GenerateSalesforceCredential.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-77">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - MergePullRequest</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/MergePullRequest.groovy"/>MergePullRequest.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-78">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - PublishReport</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/PublishReport.groovy"/>PublishReport.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-79">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - Reporter</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/Reporter.groovy"/>Reporter.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-711">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - RunCommand</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/RunCommand.groovy"/>RunCommand.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-712">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - RunJenkinsJob</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/RunJenkinsJob.groovy"/>RunJenkinsJob.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-9-713">
        <div class="card-body">
            <h2 class="card-title">Pipeline with Shared Library - Utility - Utilities</h2>
            <p class="card-text"></p>

<pre><code class="groovy">

</code></pre>

            <p class="card-text">Source code is available at <a href="https://github.com/riehseun/shared-pipeline-library/blob/master/src/com/rieh/jenkins/util/Utilities.groovy"/>Utilities.groovy</p>
        </div>
        <div class="card-footer text-muted">
            Posted on March 3, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-11">
        <div class="card-body">
            <h2 class="card-title">Maven and pom.xml</h2>
            <p class="card-text">pom.xml manages dependencies and deployment. An example pom.xml can look like</p>
            <pre><code class="xml">
&lt;&amp;xml version="1.0" encoding="UTF-8?"&gt;
&lt;project&gt;
&lt;groupId&gt;&lt;/groupId&gt;
&lt;artifactId&gt;&lt;/artifactId&gt;
&lt;version&gt;&lt;/version&gt;
&lt;packaging&gt;&lt;/packaging&gt;
&lt;name&gt;&lt;/name&gt;

&lt;properties&gt;

&lt;/properties&gt;

&lt;build&gt;
&lt;pluginManagement&gt;
&lt;plugins&gt;
&lt;plugin&gt;
    &lt;groupId&gt;&lt;/groupId&gt;
    &lt;artifactId&gt;&lt;/artifactId&gt;
    &lt;version&gt;&lt;/version&gt;
    &lt;configuration&gt;&lt;/configuration&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
&lt;plugin&gt;
    &lt;groupId&gt;&lt;/groupId&gt;
    &lt;artifactId&gt;&lt;/artifactId&gt;
    &lt;version&gt;&lt;/version&gt;
    &lt;configuration&gt;&lt;/configuration&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
&lt;plugin&gt;
    &lt;groupId&gt;&lt;/groupId&gt;
    &lt;artifactId&gt;&lt;/artifactId&gt;
    &lt;version&gt;&lt;/version&gt;
    &lt;configuration&gt;&lt;/configuration&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
&lt;/plugins&gt;
&lt;/pluginManagement&gt;
&lt;/build&gt;

&lt;distributionManagement&gt;
&lt;repository&gt;
&lt;id&gt;&lt;/id&gt;
&lt;url&gt;&lt;/url&gt;
&lt;/repository&gt;
&lt;snapshotRepository&gt;
&lt;id&gt;&lt;/id&gt;
&lt;url&gt;&lt;/url&gt;
&lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;

&lt;scm&gt;
&lt;url&gt;&lt;/url&gt;
&lt;connection&gt;&lt;/connection&gt;
&lt;developerConnection&gt;&lt;/developerConnection&gt;
&lt;tag&gt;&lt;/tag&gt;
&lt;/scm&gt;
            </code></pre>
        </div>
        <div class="card-footer text-muted">
            Posted on October 13, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-12">
        <div class="card-body">
            <h2 class="card-title">Common Jenkins pipeline issues and resolutions</h2>
            <p class="card-text"><strong>1. Maven release - unables to tag scm</strong><br/>Check if the tag generated by pomx.xml already exists in the remote. If it exists, delete the tag in the remote by executing "git push origin --delete [tagname]"</p>
            <p class="card-text"><strong>2. User not able to execute commands</strong><br/>Check if the "user" executing the command is part of one of the groups added to one of the files under "/etc/sudoers.d". If so yet still cannot execute commands, refresh the configuration on the vm (In case of Salt, it would be sudo salt-call state.highstate)</p>
            <p class="card-text"><strong>3. Permission denied (public key)</strong><br/>Go to Jenkins job configuration -> git congiration, and select user that has access to Code Repository</p>
            <p class="card-text"><strong>4. Maven release - 401 Unauthorized</strong><br/>Review credentials in "settings.xml" under JENKINS_HOME/.m2 of the Jenkins agent on which the job is running</p>
            <p class="card-text"><strong>5. Host key verification failed</strong><br/>Go to the Jenkins agent and replace the host key by executing "ssh-keygen -R [IP_ADDRESS]" and "ssh-keyscan -H >> ~/.ssh/known_hosts"</p>
            <p class="card-text"><strong>6. Unables to commit files / git-push command failed</strong><br/>In the Code Repository settings, check if direct push to certain branches are disabled. Watch for plugins like "Yet Another Commit Checker", which denies commits that don't follow certain message pattern</p>
            <p class="card-text"><strong>7. Maven release - 400 Bad Request</strong><br/>Check if the artifact with same group id, artifact id, and version already exists in Artifact Repository. If so, increment the version of try again</p>
            <p class="card-text"><strong>8. Multibranch pipeline scan fails with "unable to resolve reference"</strong><br/>Under JENKINS_HOME/cashes of Jenkins master, there are directories whose names are hash strings. Scan the Multibranch pipeline job, order directories under JENKINS_HOME/cashes by timestamp, go into few folders with the latest timestamps. and execute "git branch -a" to see if it the repo you are looking for. Remove the folder upon finding it</p>
            <p class="card-text"><strong>9. Failed to fetch from ssh</strong><br/>It is likely that the Code Repository is too big and Jenkins cannot finish cloning before timeout occurs. Go to Git Configuration -> Additional Behaviors -> Timeout (in minutes) for clone and fetch operations. Increase the timeout</p>
            <p class="card-text"><strong>10. SonarQube Error - is already part of project</strong><br/>SonarQube identifies each project by its key. Key is constructed by the combination of group id and artifact id of the module itself and its parent module. When SonarQube sees duplicate keys, it gets confused and cannot perform analysis. Potetial cause of this problem is moving sub-modules from one project to another without updating sub-module's pom.xml. In such case, pom.xml of the sub-module(s) must be updated with the correct group id(s) and artifact id(s)</p>
            <p class="card-text"><strong>11. groovy.lang.MissingPropertyException</strong><br/>It is likely that there is syntax error in "Jenkinsfile"</p>
            <p class="card-text"><strong>12. No such file or directory</strong><br/>Check if "checkout scm" step is missing from "Jenkinsfile"</p>
            <p class="card-text"><strong>13. WorkflowScript: Loading libraries failed</strong><br/>From Jenkins, go to Configure System -> Global Pipeline Lbraries. Check the authentication of your library</p>
            <p class="card-text"><strong>14. mvn: command not found</strong><br/>From Jenkins, go to Global Tool Configuration -> Maven -> Maven Installation. Find the name of the tool and use that name for Tool Locations of Jenkins Agent Configuration</p>
            <p class="card-text"><strong>15. HEAD is not a symbolic ref</strong><br/>From Git Configuration, set "Check out to matching local branch"</p>
            <p class="card-text"><strong>16. Maven release is happening twice</strong><br/>Visit "maven-release-plugin" section of pom.xml and make sure it has right configuration and execution sections</p>
            <p class="card-text"><strong>17. SOA Tests cannot execute</strong><br/>THe project name in ".project" file has to match the name of folder where SOA test suites are located</p>
        </div>
        <div class="card-footer text-muted">
            Posted on October 13, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div>

    <div class="card mb-4" id="jenkins-13">
        <div class="card-body">
            <h2 class="card-title">Jenkins job DSL scripts</h2>
            <p class="card-text">Writing Jenkins job as code gives strong advantages - jobs will be backed up in a form of code in Repository and they are easily reproducible. The following "createAllJobs.groovy" can be used as an example</p>

<pre><code class="groovy">import com.rieh.dsl.JobDSLUtils

/**
* To add a folder in Jenkins, just add a folder name to the "folders" list
*/
def folders = [
"PROJECT-1",
"PROJECT-2",
"PROJECT-3"
]
JobDSLUtils.createFOlder(this, folder)

/**
* To add a multi-branch pipeline job in Jenkins, follow this guideline
* 1st item: add name of the job including its path
* 2nd item: add git clone url
* 3rd item: add ID of Credential stored in Jenkins that has read-access to the git repository
* 4th item: if you only want to build particular branches, include them in this list. Otherwise, leave it empty
*/
def multiBranchJobs = [
["PROJECT-1", "project-1-git-clone-url", "sshkey-for-project-1", ["branch-1-for-project-1"]],
["PROJECT-2", "project-2-git-clone-url", "sshkey-for-project-2", []]
["PROJECT-3", "project-3-git-clone-url", "sshkey-for-project-3", []]
]
JobDSLUtils.createMultibranchPipelineJob(this, multiBranchJobs)</code></pre>

            <p class="card-text">JobDSLUtils.groovy can look like</p>

<pre><code class="groovy">package com.rieh.dsl

class JobDSLUtils {
static void createFolder(Object context, List folders) {
context.with {
folders.each { item ->
    folder(item)
}
}
}

static void createMultibranchPipelineJob(Object context, List jobs) {
context.with {
jobs.each { job ->
    String jobName = job[0]
    String gitCloneUrl = job[1]
    String credential = job[2]
    List branchesToPull = job[3]
    multibranchPipelineJob(jobName) {
        branchSources {
            git {
                remote(gitCloneUrl)
                credentialsId(credential)
                if (branchesToPull.size() > 0) {
                    String branches = ""
                    branchesToPull.each { branch ->
                        branches += branch
                        branches += " "
                    }
                    branches = branches.substring(0, branches.length() - 1)
                    includes(branches)
                }
            }
        }
        orphanedItemStrategy {
            discardOldItem {
                numToKeep(10)
            }
        }
    }
}
}
}
}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Posted on January 17, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->
    <!-- Jenkins END -->


    <!-- Docker BEGIN -->
    <div class="card mb-4" id="docker">
        <div class="card-body">
            <h2 class="card-title">Docker</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#docker-1">1. Docker basic</a></li>
                <li><a href="#docker-2">2. Useful Docker commands</a></li>
                <li><a href="#docker-3">3. Writing Dockerfile</a></li>
                <li><a href="#docker-4">4. Docker Examples</a></li>
                <li><a href="#docker-5">5. Docker exit codes</a></li>
                <li><a href="#docker-6">6. Configure Docker in Ubuntu=</a></li>

<!--                 <li><a href="#docker-4">4. Setting up Docker registry on linux</a></li>
                <li><a href="#docker-5">5. Setting up Dockerhost</a></li>
                <li><a href="#docker-6">6. Create base image</a></li>
                <li><a href="#docker-9">9. Installing Docker on Redhat</a></li>
                <li><a href="#docker-10">10. Writing Dockerfile for Jenkins master</a></li>
                <li><a href="#docker-11">11. Writing Dockerfile for Jenkins agent</a></li>
                <li><a href="#docker-12">12. Build and push images</a></li> -->
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="docker-1">
        <div class="card-body">
            <h2 class="card-title">1. Docker basic</h2>
            <p class="card-text">Container - isolated environment to build/run software packages (container image is immutable)</p>
            <p class="card-text">Container benefits</p>
            <ul>
                <li>Efficient use of hardware since they run w/o VM</li>
                <li>Isolation</li>
                <li>Application portability and ease of delievery</li>
            </ul>
            <p class="card-text">Containters are highly configured processes (it is not lightweight). They leverage kernal features to isolate processes and shared OS kernal at the same time. cgroupd controls resources it can consume and namespaces control what process can see</p>
            <p class="card-text">Each layer represents each instruction in Dockerfile. all layers except the last one is read-only. docker image is consisted with a series of layers</p>
            <p class="card-text">Docker lifecycle</p>
            <ul>
                <li>CREATED -> (docker run) -> RUNNING -> (docker rm) -> REMOVE</li>
                <li>RUNNING -> (docker stop) -> STOPPED, STOPPED -> (docker restart) -> RUNNING</li>
                <li>RUNNING -> (docker pause) -> PAUSED, PAUSED -> (docker unpause) -> RUNNING</li>
            </ul>
            <p class="card-text">Kernel</p>
            <ul>
                <li>Namespaces - isolation (like hypervisor for VMs) like pid, net, mnt, ipc, user</li>
                <li>Control groups - setting the resource limits (for each container, for example)</li>
                <li>Containers, although isolated, shared the single OS Kernel</li>
                <li>Containers get their own namespaces</li>
            </ul>
            <p class="card-text">Docker Enginel</p>
            <ul>
                <li>Docker Engine - client-server implementation where they run on the same host and communicate via REST API</li>
                <li>Docker client - provides docker CLI</li>
                <li>Docker server - daemon named dockerd, responds to client request</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="docker-2">
        <div class="card-body">
            <h2 class="card-title">2. Useful Docker commands</h2>
<pre><code class="bash">docker build -f [DockerfileName] -t [DockerImageName] . # builds Dockerfile and create new image
docker ps -a # see all containers in all states
docker run -d [image] # run container in background
docker stop $(docker ps --latest --quiet) && docker rm $(docker ps -a -f status=exited -q) && docker ps -a # Stop all images, remove all images, and show images
docker exec -it [container_name] bash # login to the container
docker exec -it $(docker ps --latest --quiet) bash # login to the latest container
docker rm $(docker ps -a -f status=exited -q) # remove all exited containers
docker run -v [dir1]:[dir2] -u 0 -dit [container_name] # map directories

--publish 80:8080 # flag to map container port to host port

# Assuming docker-compose.yml exists
docker-compose up # Create images and run

# Recreate images and run
docker-compose stop $CONTAINER
docker-compose rm -f $CONTAINER
docker volume prune -f
docker-compose create $CONTAINER
docker-compose start $CONTAINER

docker inspect [container_name] # display container information
docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' # get the container IP

# Investigate docker logs
docker logs -f [container_name]
journalctl -u docker.service</code></pre>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="docker-3">
        <div class="card-body">
            <h2 class="card-title">3. Writing Dockerfile</h2>
            <ul>
                <li>FROM - pulls base image</li>
                <li>WORKDIR - sets current working directory in container</li>
                <li>COPY - copies files from host to container</li>
                <li>RUN - executes commands in container</li>
                <li>EXPOSE - open ports in container</li>
                <li>ADD - similar to copy but has extra features such as local-only tar extraction. Should not be used fetch packages from remote URLs due to creating unnecessary layers (use wget and curl instead)</li>
                <li>ENV - environment variables that can be accessed in running applications</li>
                <li>ARG - environment variables that can be accessed in only during image creation</li>
                <li>ENTRYPOINT - allows configuring container that will run as an executable</li>
                <li>USER - set UID when running the image</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="docker-4">
        <div class="card-body">
            <h2 class="card-title">4. Docker Examples</h2>

<pre><code class="bash"># EX1: Privision and configure MSSQL with docker
# Assume the following environment variables
# SQL_USER="sqladmin"
# SQL_PASSWORD="changeMe0!"
# SQL_SERVER="changeme.database.windows.net"
# SQL_DBNAME="mydrivingDB"

# Install sqlcmd
curl https://packages.microsoft.com/keys/microsoft.asc | sudo apt-key add -
curl https://packages.microsoft.com/config/ubuntu/20.10/prod.list | sudo tee /etc/apt/sources.list.d/msprod.list # Carefully watch out the ubuntu version you are using
sudo apt-get update
sudo apt-get install mssql-tools unixodbc-dev

docker pull mcr.microsoft.com/mssql/server
sudo docker run -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=changeMe0!" -p 1433:1433 --name sql1 -h changeme.database.windows.net -d mcr.microsoft.com/mssql/server:2019-latest # Password must include uppercase, lowercase, number, and special character
sudo docker exec -it sql1 "bash"
/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P "changeMe0!" # This should lead to sqlcmd command prompt
CREATE DATABASE mydrivingDB

# Find container IP of MSSQL container
SQL_CONTAINER_IP=$(docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' sql1)
# Test connecting to SQL server outside the container
/opt/mssql-tools/bin/sqlcmd -S $SQL_CONTAINER_IP,1433 -U SA -P "changeMe0!"
QUIT

# Assume there is an app running under container name &lt;container_name&gt;. How to connect to SQL DB from the app
docker run --network host -e SQLFQDN=$SQL_CONTAINER_IP,1433 -e SQLUSER=sqladmin -e SQLPASS=changeMe0! -e SQLDB=mydrivingDB &lt;container_name&gt;
</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver15&pivots=cs1-bash">Run SQL Server container images with Docker</a> | <a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-ver15">Install sqlcmd and bcp the SQL Server command-line tools on Linux</a>
        </div>
    </div>

    <div class="card mb-4" id="docker-5">
        <div class="card-body">
            <h2 class="card-title">5. Docker exit codes</h2>
            <ul>
                <li>Code 0 - container does not have a foreground process attached</li>
                <li>Code 1 - there is an application error</li>
                <li>Code 137 - container received SIGKILL (docker kill)</li>
                <li>Code 139 - container received SIGSEGV (segmentation fault)</li>
                <li>Code 143 - container received SIGTERM (docker stop)</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://medium.com/better-programming/understanding-docker-container-exit-codes-5ee79a1d58f6#id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6ImZkYjQwZTJmOTM1M2M1OGFkZDY0OGI2MzYzNGU1YmJmNjNlNGY1MDIiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2MTM1NzM4MTAsImF1ZCI6IjIxNjI5NjAzNTgzNC1rMWs2cWUwNjBzMnRwMmEyamFtNGxqZGNtczAwc3R0Zy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjEwNDg0MzY5NzAyODQxMjQzODc2MyIsImVtYWlsIjoic2V1bmdtb29ucmllaEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXpwIjoiMjE2Mjk2MDM1ODM0LWsxazZxZTA2MHMydHAyYTJqYW00bGpkY21zMDBzdHRnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwibmFtZSI6IlNldW5nbW9vbiBSaWVoIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tYnpBOWplbjNkTzgvQUFBQUFBQUFBQUkvQUFBQUFBQUFBQUEvQU1adXVjbTZIUlo0aFdsS2h5R25LRFo4VTdaVC1FaHZady9zOTYtYy9waG90by5qcGciLCJnaXZlbl9uYW1lIjoiU2V1bmdtb29uIiwiZmFtaWx5X25hbWUiOiJSaWVoIiwiaWF0IjoxNjEzNTc0MTEwLCJleHAiOjE2MTM1Nzc3MTAsImp0aSI6IjY1NGE2YzQ1MGNkODMyNDJmNDI2ZDU1MjA5MGQzNDkxMTRhMzBlNDMifQ.HwDGYYQfaBy1ngNtOE1bGM97e5hkt2-uDqVtp54YFG_LUV7TzGDx3EDPojGNAV3SIRJ_BovhzKCHBuso8UclCntHjpQ0T1QjB6hJg_i8i9cU_7eJRMlM1SKxkEIBAxua_APLJwzI0f3eTUAnScg7AwRI3tu_TJ9Ip5T3u5F-7uheXbivqqEol0Z6GcaVZv3kHDdG-SzvDZ5h1NylmvQGyJOpoKXebyC6SIJzUZogicMWGnn6mAxt7dL87q-4wMM0T5k2FPhS2EXJLqTvSiIOtWMQ-FJ8UB7nzQJDT6eNrpHHCaokSeoQKTlLBA0M4iSPjMghru1LnXBy5FoJHJtNUg">Understanding Docker Container Exit Codes</a>
        </div>
    </div>

    <div class="card mb-4" id="docker-6">
        <div class="card-body">
            <h2 class="card-title">6. Configure Docker in Ubuntu</h2>
            <p class="card-text">To use a private docker repository, add the following in <strong>/etc/docker/daemon.json</strong></p>
<pre><code>{
    "insecure-registries": [&lt;YOUR_REPO_ADDRESS_INCLUDING_PORT_NUMBER&gt;]
}</code></pre>
            <p class="card-text">If you want to use secure repo with proper certificates, create this directory <strong>/etc/docker/cert.d/&lt;YOUR_REPO_ADDRESS&gt;</strong> and copy certificates to this directory</p>
            <p class="card-text"><strong>Do docker login &lt;YOUR_REPO_ADDRESS&gt;</strong></p>
            <p class="card-text">Finally, issue <strong>sudo service docker restart</strong></p>
        </div>
        <div class="card-footer text-muted"></div>
    </div>


    <!-- <li>cd docker-ssh-slave && docker rmi jenkins/ssh-slave #This is to ensure that we remove the image with same name if it exists</li>
    <li>docker load -i openjdk_8-jdk.tar #Before doing this, you must obtain openjdk_8-jdk.tar file from the Internet</li>
    <li>#Prepare your &#34;Dockerfile&#34;</li>
    <li>docker build . -t jenkins/ssh-slave #This command actually builds the docker image</li>
    <li>docker run -u 0 -dit jenkins/ssh-slave</li>
    <li>docker exec -u 0 -it $(docker ps --latest --quiet) bash #After this command, you should test the image</li>
    <li>exit #exit the image when done the testing</li>
    <li>docker stop $(docker ps --latest --quiet) && docker rm $(docker ps -a -f status=exited -q)</li>
    <li>docker save -o jenkins-ssh-slave.tar jenkins/ssh-slave</li>
    <li>scp jenkins-ssh-slave.tar [your_username]@[your_docker_registry_server_ip]:/[your_registry_directory]</li>
    <li>ssh [your_username]@[your_docker_registry_server_ip]</li>
    <li>cd [your_registry_directory] && docker load -i jenkins-ssh-slave.tar</li>
    <li>docker tag jenkins/ssh-slave [your_image_name]:5000/jenkns/ssh-slave #To push your image to registry, you must tag it first</li>
    <li>docker push [your_image_name]:5000/jenkns/ssh-slave</li> -->

    <!-- <p class="card-text">An example of Dockerfile could look like the following</strong></p>
            <pre><code class="groovy">
FROM openjdk:8-jdk
LABEL MAINTAINER="Seungmoon Rieh &lt;seungmoon.rieh@gmail.com&gt;"

ARG user=jenkins
ARG group=jenkins
ARG uid=10000
ARG gid=10000
ARG JENKINS_AGENT_HOME=/home/${user}

ENV JENKINS_AGENT_HOME ${JENKINS_AGENT_HOME}

RUN groupadd -g ${gid} ${group} && useradd -d "${JENKINS_AGENT_HOME}" -u "${uid}" -g "${gid}" -m -s /bin/bash "${user}"

# Write unix command to install necessary tools

RUN sed -i /etc/ssh/sshd_config \
-e 's/#PermitRootLogin.*/PermitRootLogin no/' \
-e 's/#RSAAuthentication.*/RSAAuthentication yes/' \
-e 's/#PasswordAuthentication.*/PasswordAuthentication no/' \
-e 's/#SyslogFacility.*/SyslogFacility AUTH/' \
-e 's/#LogLevel.*/LogLevel INFO/'  && \
mkdir /var/run/sshd

VOLUME "${JENKINS_AGENT_HOME}" "/tmp" "/run" "/var/run"
WORKDIR "${JENKINS_AGENT_HOME}"

COPY setup-sshd /usr/local/bin/setup-sshd

EXPOSE 22

ENTRYPOINT ["setup-sshd"]</code></pre> -->

    <!-- <div class="card mb-4" id="docker-4">
        <div class="card-body">
            <h2 class="card-title">4. Setting up Docker registry on Linux</h2>
<pre><code class="bash">docker pull registry:2
docker save -o registry_2.tar registry:2
docker load -i registry.tar
docker run -d --net=host -p 5000:5000 -v []/docker-registry-data:[]/registry --name registry --restart always registry:2</code></pre>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div> -->

    <!-- <div class="card mb-4" id="docker-5">
        <div class="card-body">
            <h2 class="card-title">5. Setting up Dockerhost</h2>
            <p class="card-text">This is to show how to construct a Jenkins "build server" where all work would be done inside docker container (for RedHat 7 distribution)</p>
<pre><code class="bash">sudo subscription-manager repos-enable rhel-7-server-extras-rpms
sudo yum update
sudo yum list docker\*
sudo yum install docker.x86_64
sudo groupadd docker
sudo usermod -aG docker [your_username_or_service_account]
sudo systemctl enable docker
sudo chkconfig docker on
sudo systemctl start docker
From &#34;/lib/systemd/system/docker.service&#34;, add this line &#34;-H tcp://0.0.0.0:4243 -H unix:///var/run/docker.sock&#34;
sudo systemctl daemon-reload<
sudo service docker restart
>curl http://localhost:4243/version</code></pre>
        </div>
        <div class="card-footer text-muted"></div>
    </div> -->

    <!-- <div class="card mb-4" id="docker-9">
        <div class="card-body">
            <h2 class="card-title">9. Installing Docker on Redhat</h2>
            <p class="card-text"></p>
            <ul>
                <li>To install RedHat from Windows, follow this guide <a href="#virtualbox-1">Virtual Box</a></li>
                <li>Install docker from yum repo - <strong>sudo yum install docker</strong></li>
                <li>Enable docker service - <strong>sudo systemctl enable docker.service</strong></li>
                <img class="img-fluid" class="card-img-top" src="img/docker/docker-8-a.png" alt="Card image cap" style="max-width:700px">
                <li>Start docker service - <strong>sudo systemctl start docker.service</strong></li>
                <li>Check docker status - <Strong>sudo systemctl status docker.service</Strong></li>
                <img class="img-fluid" class="card-img-top" src="img/docker/docker-8-b.png" alt="Card image cap" style="max-width:700px">
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://www.cyberciti.biz/faq/install-use-setup-docker-on-rhel7-centos7-linux/">install-use-setup-docker-on-rhel7-centos7-linux</a>
        </div>
    </div> -->

    <!-- <div class="card mb-4" id="docker-10">
        <div class="card-body">
            <h2 class="card-title">10. Writing Dockerfile for Jenkins master</h2>
            <p class="card-text">Dockerfile-jenkins-master</p>

<pre><code class="groovy">FROM jenkins/jenkins:lts

# Plugins for better UX (not mandatory)
RUN /usr/local/bin/install-plugins.sh ansicolor
RUN /usr/local/bin/install-plugins.sh greenballs

# Plugin for scaling Jenkins agents
RUN /usr/local/bin/install-plugins.sh kubernetes

USER jenkins</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://rancher.com/blog/2018/2018-11-27-scaling-jenkins/">Deploying and Scaling Jenkins on Kubernetes</a>
        </div>
    </div>

    <div class="card mb-4" id="docker-11">
        <div class="card-body">
            <h2 class="card-title">11. Writing Dockerfile for Jenkins agent</h2>
            <p class="card-text">touch empty-test-file</p>
            <p class="card-text">Dockerfile-jenkins-slave-jnlp1 (Do this for each agent with different name)</p>

<pre><code class="groovy">FROM jenkins/jnlp-slave

# For testing purpose only
COPY empty-test-file /jenkins-slave1

ENTRYPOINT ["jenkins-slave"]</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://rancher.com/blog/2018/2018-11-27-scaling-jenkins/">Deploying and Scaling Jenkins on Kubernetes</a>
        </div>
    </div>

    <div class="card mb-4" id="docker-12">
        <div class="card-body">
            <h2 class="card-title">12. Build and push images</h2>
            <p class="card-text">Replace [dockerhub_user] with appropriate username</p>
<pre><code class="bash">docker build -f Dockerfile-jenkins-master -t [dockerhub_user]/jenkins-master .</li>
docker images
docker login
docker push [dockerhub_user]/jenkins-master
docker build -f Dockerfile-jenkins-slave-jnlp1 -t [dockerhub_user]/jenkins-slave-jnlp1 .
docker push [dockerhub_user]/jenkins-slave-jnlp1
docker build -f Dockerfile-jenkins-slave-jnlp2 -t [dockerhub_user]/jenkins-slave-jnlp2 .
docker push [dockerhub_user]/jenkins-slave-jnlp2</code></pre>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://rancher.com/blog/2018/2018-11-27-scaling-jenkins/">Deploying and Scaling Jenkins on Kubernetes</a>
        </div>
    </div> -->
    <!-- Docker END -->


    <!-- Kubernetes BEGIN -->
    <div class="card mb-4" id="kubernetes">
        <div class="card-body">
            <h2 class="card-title">Kubernetes</h2>
            <ul class="list-unstyled mb-0">
                <!-- <li><a href="#kubernetes-0">What is Kubernetes</a></li> -->
                <li><a href="#kubernetes-1">1. Pods</a></li>
                <li><a href="#kubernetes-2">2. Services</a></li>
                <li><a href="#kubernetes-3">3. Deployments</a></li>
                <li><a href="#kubernetes-4">4. Setup Kubernetes Master</a></li>
                <li><a href="#kubernetes-5">5. Setup Kubernetes Node</a></li>
                <li><a href="#kubernetes-6">6. Write Deployment for Jenkins</a></li>
                <li><a href="#kubernetes-7">7. Write Service for Jenkins</a></li>
                <li><a href="#kubernetes-8">8. Deploy Jenkins master</a></li>
                <li><a href="#kubernetes-9">9. Deploy Jenkins agent</a></li>
            </ul>
        </div>
    </div>

    <!-- <div class="card mb-4" id="kubernetes-0">
        <div class="card-body">
            <h2 class="card-title">What is Kubernetes</h2>
            <p class="card-text">Container management technology that orchestrates microservice apps</p>
            <ul>
                <li>Master(s) - contorl the cluster, has an interface, exposes the REST API, and consumes JSON. Persistenly store cluster state and config (uses "etcd" key-value store). Kube-controler-manager makes sure if current state matches the desired state. Kube-scheduler watches API server for new pods and assigns works to nodes.</li>
                <li>Nodes - Kublet registres node with cluster, watches API server, instantiates pods, and reports back to master. It also exposes endpoint on port 10255. Container Enginer performs container management (Docker/Rocket). Kube-proxy manages networking, load-balances across all pods in a service</li>
                <li>Pods - A container run inside a pod. Pod is also a unit of scaling. Pod is "Atomic" and exists in a single node</li>
                <li>Services - Pods will have unique IPs so Services are needed to perform load-balancing and traffic management role. Services will find their pods to own by "labels"</li>
                <li>Deployments - YAML or JSON file to be deployed. Versioned/Spec-once, deploy-many/simple rollback-rollforward. Deployed via API Server</li>
                <li>Desired State and Declarative Model - Manifest file written in YAML or JSON, which described desired state (how you want to clusters to look)</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on January 27, 2019 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->

    <div class="card mb-4" id="kubernetes-1">
        <div class="card-body">
            <h2 class="card-title">1. Pods</h2>
            <p class="card-text">Single instance of running process in the cluster</p>
            <ul>
                <li>Can have one or more container</li>
                <li>Deploy Pod by writing manifest file and giving it to API Server</li>
                <li>Each pod has its own single IP</li>
                <li>Each container in a pod can talk via their own unique port</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://cloud.google.com/kubernetes-engine/docs/concepts/pod#:~:text=Pods%20are%20the%20smallest%2C%20most,and%20share%20the%20Pod's%20resources.">Pod</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-2">
        <div class="card-body">
            <h2 class="card-title">2. Services</h2>
            <p class="card-text">Expose an application running on Pods as network service</p>
            <ul>
                <li>Let you access the application both from inside and outside</li>
                <li>IP, DNS, Port of Service never change</li>
                <li>Services are discovered by DNS</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-3">
        <div class="card-body">
            <h2 class="card-title">3. Deployments</h2>
            <p class="card-text">Provides declarative updates for Pods and ReplicaSets</p>
            <ul>
                <li>Allow rolling updates and simple rollback</li>
                <li>Wraps Replica Set, which in turn wraps pods</li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-4">
        <div class="card-body">
            <h2 class="card-title">4. Setup Kubernetes Master</h2>

<pre><code class="groovy">sudo -i

hostnamectl set-hostname 'k8s-master'
exec bash
setenforce 0
sed -i --follow-symlinks 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/sysconfig/selinux

firewall-cmd --permanent --add-port=6443/tcp
firewall-cmd --permanent --add-port=2379-2380/tcp
firewall-cmd --permanent --add-port=10250/tcp
firewall-cmd --permanent --add-port=10251/tcp
firewall-cmd --permanent --add-port=10252/tcp
firewall-cmd --permanent --add-port=10255/tcp
firewall-cmd --reload
modprobe br_netfilter
echo '1' > /proc/sys/net/bridge/bridge-nf-call-iptables

cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
exclude=kube*
EOF

yum install kubeadm docker -y
systemctl restart docker && systemctl enable docker
yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes
systemctl restart kubelet && systemctl enable kubelet
kubeadm init

mkdir -p $HOME/.kube
cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
chown $(id -u):$(id -g) $HOME/.kube/config

export kubever=$(kubectl version | base64 | tr -d '\n')
kubectl apply -f "https://cloud.weave.works/k8s/net?k8s-version=$kubever"

kubectl get nodes
kubectl get pods --all-namespaces</code></pre>

<pre><code class="groovy"># From /etc/hosts
[ip] k8s-master
[ip] k8s-node1
[ip] k8s-node2
[ip] k8s-node3</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://www.linuxtechi.com/install-kubernetes-1-7-centos7-rhel7">How to Install Kubernetes (k8s) 1.7 on CentOS 7 / RHEL 7</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-5">
        <div class="card-body">
            <h2 class="card-title">5. Setup Kubernetes Node</h2>
            <p class="card-text">Do this on each node. Replace [k8s-node-name] with appropriate node name</p>

<pre><code class="groovy">sudo -i

hostnamectl set-hostname '[k8s-node-name]'
setenforce 0
sed -i --follow-symlinks 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/sysconfig/selinux
firewall-cmd --permanent --add-port=10250/tcp
firewall-cmd --permanent --add-port=10255/tcp
firewall-cmd --permanent --add-port=30000-32767/tcp
firewall-cmd --permanent --add-port=6783/tcp
firewall-cmd  --reload
echo '1' > /proc/sys/net/bridge/bridge-nf-call-iptables

cat <<EOF > /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
exclude=kube*
EOF

yum  install kubeadm docker -y
systemctl restart docker && systemctl enable docker
yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes
systemctl restart kubelet && systemctl enable kubelet
systemctl enable docker.service && systemctl start docker.service</code></pre>

<pre><code class="groovy">kubeadm join --token [k8s-master-token] --discovery-token-unsafe-skip-ca-verification [k8s-master-ip]:6443</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://www.linuxtechi.com/install-kubernetes-1-7-centos7-rhel7">How to Install Kubernetes (k8s) 1.7 on CentOS 7 / RHEL 7</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-6">
        <div class="card-body">
            <h2 class="card-title">6. Write Deployment for Jenkins</h2>
            <p class="card-text">"deployment.yaml". Replace [dockerhub_user] with appropriate username</p>

<pre><code class="groovy">apiVersion: extensions/v1beta1
kind: Deployment
metadata:
name: jenkins
spec:
replicas: 1
template:
metadata:
labels:
app: jenkins
spec:
containers:
- name: jenkins
image: [dockerhub_user]/jenkins-master
env:
- name: JAVA_OPTS
value: -Djenkins.install.runSetupWizard=false
ports:
- name: http-port
containerPort: 8080
- name: jnlp-port
containerPort: 50000
volumeMounts:
- name: jenkins-home
mountPath: /var/jenkins_home
volumes:
- name: jenkins-home
emptyDir: {}</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://rancher.com/blog/2018/2018-11-27-scaling-jenkins/">Deploying and Scaling Jenkins on Kubernetes</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-7">
        <div class="card-body">
            <h2 class="card-title">7. Write Service for Jenkins</h2>
            <p class="card-text">"service.yaml"</p>

<pre><code class="groovy">apiVersion: v1
kind: Service
metadata:
=name: jenkins
spec:
type: LoadBalancer
ports:
- port: 80
targetPort: 8080
selector:
app: jenkins

---

apiVersion: v1
kind: Service
metadata:
name: jenkins-jnlp
spec:
type: ClusterIP
ports:
- port: 50000
targetPort: 50000
selector:
app: jenkins</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://rancher.com/blog/2018/2018-11-27-scaling-jenkins/">Deploying and Scaling Jenkins on Kubernetes</a>
        </div>
    </div>

    <div class="card mb-4" id="kubernetes-8">
        <div class="card-body">
            <h2 class="card-title">8. Deploy Jenkins master</h2>
            <p class="card-text">Do this from Kubernetes master</p>

            <ul>
                <li>kubectl apply -f deployment.yaml</li>
                <li>kubectl create -f service.yaml</li>
                <li>kubectl get service</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>

    <div class="card mb-4" id="kubernetes-9">
        <div class="card-body">
            <h2 class="card-title">9. Deploy Jenkins agent</h2>
            <p class="card-text">Do this from Kubernetes master</p>

            <ul>
                <li>kubectl cluster-info | grep master</li>
                <li>kubectl get pods | grep jenkins</li>
                <li>kubectl describe pod</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Kubernetes END -->


    <!-- Nexus BEGIN -->
    <div class="card mb-4" id="nexus">
        <div class="card-body">
            <h2 class="card-title">Nexus</h2>
            <ul class="list-unstyled mb-0">
                <li><a href="#nexus-1">1. Nexus Architecture</a></li>
                <!-- <li><a href="#nexus-2">Managing Permission</a></li>
                <li><a href="#nexus-3">LDAP Certificates</a></li> -->
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="nexus-1">
        <div class="card-body">
            <h2 class="card-title">1. Nexus Architecture</h2>
            <p class="card-text">Nexus is a tool used to store Software artifacts. It allows uploading and downloading artifacts by GUI and REST endpoint. There are two types of artifacts</p>
            <ul>
                <li>SNAPSHOT - this type of artifact is for temporarily storage whose retention period is usually 1 day. SNAPSHOT artifacts should be allowed to be overwritten. This is useful when developement team frequently builds their artifact and upload it to nexus to allow QA testing to commmence immediately</li>
                <li>RELEASE - this type of artifact is for permanent storage and it should not be overwritten. RELEASE artifacts are used during Continuous Delievery phase where it will deployed to many different environments before landing the Production</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- Nexus END -->


    <!-- Linux BEGIN -->
    <div class="card mb-4" id="linux">
        <div class="card-body">
            <h2 class="card-title">Linux</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#linux-1">1. CD Command</a></li>
                <li><a href="#linux-2">2. Date</a></li>
                <li><a href="#linux-3">3. SSH</a></li>
                <li><a href="#linux-4">4. Linux</a></li>
                <li><a href="#linux-5">5. PS</a></li>
                <li><a href="#linux-6">6. Archive</a></li>
                <li><a href="#linux-7">7. Administration</a></li>
                <li><a href="#linux-8">8. System</a></li>
                <li><a href="#linux-9">9. Shell Scripting</a></li>
                <li><a href="#linux-10">10. Color</a></li>
                <li><a href="#linux-11">11. Python Integration</a></li>
                <li><a href="#linux-12">12. Cron</a></li>
                <li><a href="#linux-13">13. File</a></li>
                <li><a href="#linux-14">14. Process and Thread</a></li>
                <!-- JBoss -->
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="linux-1">
        <div class="card-body">

            <h2 class="card-title">1. CD Command</h2>
            <p class="card-text">1.1. CDPATH</p>
<pre><code class="bash">export CDPATH=/etc
cd security
/etc/security</code></pre>
            <p class="card-text">To make this permanent, add "export CDPATH=/etc" to "~/.bash_profile" (also do "source ~/.bash_profile")</p>

            <p class="card-text">1.2. alias</p>
<pre><code class="bash">alias ..5=../../../../../
cd one/two/three/four/five/six
cd ..5
pwd
one</code></pre>

            <p class="card-text">1.3. mkdircd</p>
<pre><code class="bash">mkdircd /one/two/three
pwd
one/two/three</code></pre>

            <p class="card-text">1.4. "cd -" toogle between last two directories </p>

            <p class="card-text">1.5. "dirs" - display directory stack. "pushd" - push directory into stack. "popd" - pop directory from stack and cd to it</p>
<pre><code class="bash"># Example: create tmp, do the work, and remove tmp
mkdir tmp && pushd
# do some work
popd && rm -rf tmp</code></pre>

            <p class="card-text">1.6. shopt -s cdspell</p>
<pre><code class="bash">shopt -s cdspell
cd /etc/mall
pwd
/etc/mail</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-2">
        <div class="card-body">

            <h2 class="card-title">2. Date</h2>
            <p class="card-text">2.1. System date and time</p>
<pre><code class="bash">date -s "01/31/2009 22:19:53"</code></pre>

            <p class="card-text">2.2. Set hardware date and time based on system date and time</p>
<pre><code class="bash">hwclock --systohc –utc</code></pre>

            <p class="card-text">2.3. Format date and time</p>
<pre><code class="bash">date
date --date='1970-01-01 00:00:01 UTC +5 hours' +%s
date '+Current Date: %m/%d/%y%nCurrent Time:%H:%M:%S'
date +"%d/%m/%Y"
date +"%A,%B %d %Y"</code></pre>

            <p class="card-text">2.4. Past date and time</p>
<pre><code class="bash">date --date="1 day ago"
date --date="1 year ago"
date --date="yesterday"</code></pre>

            <p class="card-text">2.5. Future date and time</p>
<pre><code class="bash">date --date="1 day"
date --date="1 year"
date --date="tomorrow"</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-3">
        <div class="card-body">

            <h2 class="card-title">3. SSH</h2>
            <p class="card-text">3.1. "ssh -V" : check ssh version</p>

            <p class="card-text">3.2. Login to remote</p>
<pre><code class="bash">ssh -l [username] [ip]</code></pre>

            <p class="card-text">3.3. Debug ssh client session</p>
<pre><code class="bash">ssh -v l [username] [ip]</code></pre>

            <p class="card-text">3.4. Creating public and private key pair. First, have <strong>Git</strong> installed in your machine</p>
<pre><code class="bash">ssh-keygen</code></pre>
            <img class="img-fluid" class="card-img-top" src="img/linux/linux-3-a.png" alt="Card image cap" style="max-width:500px">
            <p class="card-text">You can choose to have passphrase as well (which you need to remember when sshing into a remote machine)</p>
            <p class="card-text">Make sure to give 600 to id_rsa and 644 to id_rsa.pub and known_hosts</p>

            <p class="card-title">3.5. Refresh known_hosts</p>
<pre><code class="bash">ssh-keyscan -H [IP_ADDRESS] ~/.ssh/known_hosts</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-4">
        <div class="card-body">

            <h2 class="card-title">4. Linux</h2>
            <p class="card-text">4.1. "grep [options] pattern [files]"</p>
            <p class="card-text">Use option -v to find all except the match</p>
            <p class="card-text">Use option -c to get # of line with match</p>
            <p class="card-text">Use option -i to ignore case</p>
            <p class="card-text">Use option -r to find matches recursively in files in directory</p>

            <p class="card-text">4.2. "find [pathnames] [conditions]"</p>
<pre><code class="bash">find /etc -name "*mail*" # find files containing mail in /etc</code></pre>
<pre><code class="bash">find / -type f -size +100M # find files greater than 100M</code></pre>
<pre><code class="bash">find . –mtime -2 # find files modified in last two days</code></pre>
<pre><code class="bash">find / -type f -name *.tar.gz -size +100M -exec ls -l {} \; # list files greater than 100M</code></pre>
<pre><code class="bash">find / -type f -name *.tar.gz -size +100M -exec rm -f {} \; # delete files greater than 100M</code></pre>

            <p class="card-text">4.3. Suppress output or error</p>
<pre><code class="bash">cat file.txt > /dev/null # suppress output</code></pre>
<pre><code class="bash">cat invalid-file-name.txt 2> /dev/null # suppress error</code></pre>

            <p class="card-text">4.4. Convert uppercase to/from lowercase</p>
<pre><code class="bash">tr a-z A-Z < file.txt # convert to uppercase</code></pre>
<pre><code class="bash">tr A-Z a-z < file.txt # convert to lowercase</code></pre>

            <p class="card-text">4.5. Cut</p>
<pre><code class="bash">cut -d: -f 1 file.txt # Display 1st field from colon delimited file</code></pre>
<pre><code class="bash">cut -d: -f 1,3 file.txt # Display 1st and 3rd field from colon delimited file</code></pre>
<pre><code class="bash">cut -d: -f1 /etc/passwd # Displays unix login names for all users in the system</code></pre>
<pre><code class="bash">free | tr -s ' ' | sed '/^Mem/!d' | cut -d" " -f2 # Displays total memory available on the system</code></pre>

            <p class="card-text">4.6. Diff</p>
<pre><code class="bash">diff -w file_old.txt file_new.txt</code></pre>

            <p class="card-text">4.7. Reboot the machine</p>
<pre><code class="bash">sudo reboot</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-5">
        <div class="card-body">

            <h2 class="card-title">5. PS</h2>

            <p class="card-text">5.1. Change color of prompt</p>
<pre><code class="bash">export PS1="\e[0;34m\u@\h \w> \e[m " # blue color (foreground), username, host and current directory</code></pre>
            <p class="card-text">For permanent change, in ~/.bash_profile</p>
<pre><code class="bash">STARTCOLOR='\e[0;34m';
ENDCOLOR="\e[0m"
export PS1="$STARTCOLOR\u@\h \w> $ENDCOLOR"</code></pre>
<pre><code class="bash">export PS1="\e[47m\u@\h \w> \e[m " # blue color (background), username, host and current directory</code></pre>
            <p class="card-text">For permanent change, in ~/.bash_profile</p>
<pre><code class="bash">STARTFGCOLOR='\e[0;34m';
STARTBGCOLOR="\e[47m"
ENDCOLOR="\e[0m"
export PS1="$STARTFGCOLOR$STARTBGCOLOR\u@\h \w> $ENDCOLOR"</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-6">
        <div class="card-body">

            <h2 class="card-title">6. Archive</h2>

            <p class="card-text">6.1. zip {.zip file-name} {file-names}</p>
<pre><code class="bash">zip var-log-files.zip /var/log/* # zip all files in /var/log/* into var-log-files.zip</code></pre>

            <p class="card-text">6.2. unzip var-log.zip</p>

            <p class="card-text">6.3. Compression</p>
<pre><code class="bash">zip var-log-files-default.zip /var/log/* # level 6 - default high compression
zip -0 var-log-files-0.zip /var/log/* # level 0 - no compression
zip -9 var-log-files-9.zip /var/log/* # level 9 - highest compression</code></pre>

            <p class="card-text">6.4. Password protect</p>
<pre><code class="bash">zip -P mysecurepwd var-log-protected.zip /var/log/*</code></pre>

            <p class="card-text">6.5. tar [options] [tar-archive-name] [other-file-names]</p>
            <p class="card-text">option c - create an archive</p>
            <p class="card-text">option v - verbose mode</p>
            <p class="card-text">option f - archive file name</p>
            <p class="card-text">option x - extract files from tar archive</p>
            <p class="card-text">option z - when dealing with tar.gz compressed file</p>
            <p class="card-text">option j - when dealing with tar.bz2 compressed file</p>
<pre><code class="bash">tar cvf /tmp/file.tar /home/rieh # create tar</code></pre>
<pre><code class="bash">tar xvf /tmp/file.tar # extract tar</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-7">
        <div class="card-body">

            <h2 class="card-title">7. Administration</h2>

            <p class="card-text">7.1. Disk</p>
            <p class="card-text">n – new partition creation</p>
            <p class="card-text">d – delete existing partition</p>
            <p class="card-text">p - print partition table</p>
            <p class="card-text">w – write changes to the partition table</p>
            <p class="card-text">q – quit fdisk utility</p>
<pre><code class="bash">fdisk /dev/sda # invoke fdisk (first step to create /dev/sda1 primary partition)</code></pre>
<pre><code class="bash">mke2fs /dev/sda1 # format disk so it can be used</code></pre>
<pre><code class="bash">mount /dev/sda1 /home/database # mount partition to directory</code></pre>
<pre><code class="bash">tune2fs -l /dev/sda1 # view the filesystem</code></pre>

            <p class="card-text">7.2. User and group</p>
<pre><code class="bash">useradd rieh # add a user</code></pre>
<pre><code class="bash">passwd rieh # change user password</code></pre>
<pre><code class="bash">groupadd developers # add a group</code></pre>
<pre><code class="bash">usermod -g developers jsmith # add user to group</code></pre>

            <p class="card-text">7.3. Owndership and permission</p>
<pre><code class="bash">chmod -fR [permission] [directory/file] # change permission on file/directory</code></pre>
<pre><code class="bash">chown -fR [user/group]:[user/group] [directory/file] # change ownership of file/directory</code></pre>

            <p class="card-text">7.4. Access control</p>
<pre><code class="bash">/etc/security/access.conf # Add user(s) or groups(s) to this file to grant access to the machine</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-8">
        <div class="card-body">

            <h2 class="card-title">8. System</h2>

            <p class="card-text">8.1. free [options]</p>
            <p class="card-text">m - displays values in MB</p>
            <p class="card-text">t - displays sum of physical and swap memory</p>
            <p class="card-text">o - hide buffers/cache line</p>

            <p class="card-text">8.2. top [options]</p>

            <p class="card-text">8.3. ps [options]</p>
<pre><code class="bash">ps aux | more # display all processes running in system</code></pre>

            <p class="card-text">8.4. df [options] [name]</p>
<pre><code class="bash">df –h # human readable format</code></pre>

            <p class="card-text">8.5. kill [options] [pids|commands]</p>

            <p class="card-text">8.6. Disk usage</p>
<pre><code class="bash">du -sh ~</code></pre>
<pre><code class="bash">du --max-depth=1 /[folder] | sort -n -r # find size of folders</code></pre>

            <p class="card-text">8.7. lsof</p>
<pre><code class="bash">lsof | more # view all open files in system</code></pre>
<pre><code class="bash">lsof -i -P -n | grep LISTEN # find pid and kill them
kill -9 [pid]</code></pre>

            <p class="card-text">8.8. sar</p>
<pre><code class="bash">sar –u # Display CPU statistics</code></pre>
<pre><code class="bash">sar –d # Display disk IO statistics</code></pre>

            <p class="card-text">8.9. stat</p>
<pre><code class="bash">netstat -tulnp | grep 8443 # find processes running on port 8443</code></pre>
<pre><code class="bash">stat -c "%a &n" * # display stats of files</code></pre>
        </div>
        <div class="card-footer text-muted">
            Reference: Linux 101 Hacks, Remesh Natarajan, www.thegeekstuff.com
        </div>
    </div>

    <div class="card mb-4" id="linux-9">
        <div class="card-body">

            <h2 class="card-title">9. Shell Scripting</h2>

            <p class="card-text">9.1. Read user inputs</p>
<pre><code class="bash">read USER_INPUT1 ; export USER_INPUT1
read -s USER_INPUT1 ; export USER_INPUT1 # make echoing user input unavailable</code></pre>

            <p class="card-text">9.2. Arguments</p>
<pre><code class="bash"># $1, $2, $3, etc are used to read in arguments passed to shell script and functions</code></pre>

            <p class="card-text">9.3. Suppress output of pushd and popd commands</p>
<pre><code class="bash">pushd () {
    command pushd "$@" > /dev/null
}

popd () {
    command pushd "$@" > /dev/null
}</code></pre>

            <p class="card-text">9.4. Curl</p>
            <p class="card-text">v – verbose output</p>
            <p class="card-text">s – suppress output</p>
            <p class="card-text">u - to pass in credentials</p>
            <p class="card-text">o – to write output to a destination</p>
            <p class="card-text">w '%{http_code}' – to get the http status code</p>
<pre><code class="bash">curl [options] [URL] -X [GET/POST/PUT/DELETE] -H [Headers] -d [Data]</code></pre>
<pre><code class="bash">echo $JSON_DATA | curl [options] [URL] -X [GET/POST/PUT/DELETE] -H [Headers] -d @- # if posting json data</code></pre>

            <p class="card-text">9.5. Function</p>
<pre><code class="bash">function [function_name] () {
    local [argument1]=$1
    local [argument2]=$2
    local [argument3]=$3
    ...

    echo [ret_val] # this is the return statement
}</code></pre>

            <p class="card-text">9.6. Conditional</p>
<pre><code class="bash">if [ "$variable" -eq 200 ]; then
    # do something
else
    # do othe thing
fi</code></pre>

<pre><code class="bash">if [ -z "$variable" ]; then
    # variable is null
fi</code></pre>

<pre><code class="bash">if [ -z "$var1" -o -z "$var1" ]; then
    # var1 or var2 is null
fi</code></pre>

<pre><code class="bash">if [ "$variable" == "string" ]; then
    # variable equals string
fi</code></pre>

            <p class="card-text">9.7. Current and parent directory (scripts can execute from different path, so absolute path is needed)</p>
<pre><code class="bash">SCRIPT_DIR=$( cd "$(dirname "${BASH_SOURCE[0]}")" ; pwd -P )
PARENT_DIR="$(dirname "$SCRIPT_DIR")"</code></pre>

        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <div class="card mb-4" id="linux-10">
        <div class="card-body">

            <h2 class="card-title">10. Color</h2>

            <p class="card-text">10.1. Types of colors in bash</p>
<pre><code class="bash">printf "Foreground Regular\n"
printf "\033[31mI am Red\033[0m\n"
printf "\033[32mI am Green\033[0m\n"
printf "\033[33mI am Yellow\033[0m\n"
printf "\033[34mI am Blue\033[0m\n"
printf "\033[35mI am Magenta\033[0m\n"
printf "\033[36mI am Cyan\033[0m\n"
printf "\033[37mI am Light Gray\033[0m\n"
printf "Foreground Bright\n"
printf "\033[90mI am Dark Gray\033[0m\n"
printf "\033[91mI am Light Red\033[0m\n"
printf "\033[92mI am Light Green\033[0m\n"
printf "\033[93mI am Light Yellow\033[0m\n"
printf "\033[94mI am Light Blue\033[0m\n"
printf "\033[95mI am Light Magenta\033[0m\n"
printf "\033[96mI am Light Cyan\033[0m\n"
printf "Background Regular\n"
printf "\033[41mI am Red\033[0m\n"
printf "\033[42mI am Green\033[0m\n"
printf "\033[43mI am Yellow\033[0m\n"
printf "\033[44mI am Blue\033[0m\n"
printf "\033[45mI am Magenta\033[0m\n"
printf "\033[46mI am Cyan\033[0m\n"
printf "\033[47mI am Light Gray\033[0m\n"
printf "Background Bright\n"
printf "\033[100mI am Dark Gray\033[0m\n"
printf "\033[101mI am Light Red\033[0m\n"
printf "\033[102mI am Light Green\033[0m\n"
printf "\033[103mI am Light Yellow\033[0m\n"
printf "\033[104mI am Light Blue\033[0m\n"
printf "\033[105mI am Light Magenta\033[0m\n"
printf "\033[106mI am Light Cyan\033[0m\n"</code></pre>

        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <div class="card mb-4" id="linux-11">
        <div class="card-body">

            <h2 class="card-title">11. Python Integration</h2>

            <p class="card-text">11.1. Virtual python environment</p>
<pre><code class="bash">virtualenv -p python3 .env # create python3 virtual environment at .env directory
source .env/bin/activate
pip install -r [python_dependencies]</code></pre>

            <p class="card-text">11.2. Execute python</p>
<pre><code class="bash">python [your_script.py] [--options] [arguments]</code></pre>

        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <div class="card mb-4" id="linux-12">
        <div class="card-body">

            <h2 class="card-title">12. Cron</h2>

            <p class="card-text">minute (0 - 59) | hour (0 - 23) | day of the month (1 - 31) | month (1 - 12) | day of the week (0 - 6) [Sunday to Saturday]</p>
<pre><code class="bash">22 5 * * 6 # 5:22AM every Saturday</code></pre>
<pre><code class="bash">*/5 * * * * # every 5 minutes</code></pre>

        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <div class="card mb-4" id="linux-13">
        <div class="card-body">

            <h2 class="card-title">13. File</h2>

            <p class="card-text">owner / grouup / all users</p>
            <p class="card-text">read(4) / write (2) / execute (1)</p>
<pre><code class="bash"># For example, "chmod 640" gives read and write permission to the owner, read permission to the group, no permission to all others</code></pre>

        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <div class="card mb-4" id="linux-14">
        <div class="card-body">

            <h2 class="card-title">14. Process and Thread</h2>

            <p class="card-text">Thread is an execution unit, which is a part of process. It is a unit of execution in concurrent programming. It can be managed by a scheduler</p>

            <p class="card-text">Process is an isolated execution entity, which does not share data. Creating process requires a separate system call. It has its own heap memory</p>
        </div>
        <div class="card-footer text-muted">

        </div>
    </div>

    <!-- div class="card mb-4" id="linux-3">
        <div class="card-body">
            <h2 class="card-title">JBoss</h2>
            <p class="card-text"><strong>standalone.xml</strong> - this file located at /etc/jbossas/standalone/standalone.xml contains deployment configuration including certificates and passwords for web access</p>
            <p class="card-text"><strong>logs</strong> - the Jboss server logs are located at /var/log/jbossas/[ServerName]
            <p class="card-text"><strong>deployment info</strong> - to view the deployment info sudo /usr/share/jbossas/bin/jboss-cli.sh --connect deployment-info</p>
        </div>
        <div class="card-footer text-muted"></div>
    </div> -->
    <!-- Linux END -->


    <!-- Sonarqube BEGIN -->
    <!-- <div class="card mb-4" id="sonarqube">
        <div class="card-body">
            <h2 class="card-title">SonarQube</h2>
            <p class="card-text">SonarQube is a code scanning tool which checks for <strong>maintenance and reliability</strong>. Although it also looks for potential security issues, its not in depth compared to Sonatype and Veracode</p>
            <ul class="list-unstyled mb-0">
                <li><a href="#sonarqube-1">Permission Templates</a></li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on September 9, 2018 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->
    <!-- Sonarqube END -->


    <!-- Sonatype BEGIN -->
    <!-- <div class="card mb-4" id="sonatype">
        <div class="card-body">
            <h2 class="card-title">SonaType</h2>
            <p class="card-text">SonaType is a code scanning tool which checks for potential <strong>security issues in thrid part libraries</strong>.</p>
            <ul class="list-unstyled mb-0">
                <li><a href="#sonatype-1">sonatype</a></li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on September 9, 2018 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->
    <!-- Sonatype END -->


    <!-- Veracode BEGIN -->
    <!-- <div class="card mb-4" id="veracode">
        <div class="card-body">
            <h2 class="card-title">Veracode</h2>
            <p class="card-text">Veracode is a code scanning tool which checks for potential <strong>security issues in the code</strong>.</p>
            <ul class="list-unstyled mb-0">
                <li><a href="#veracode-1">veracode</a></li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on September 9, 2018 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->
    <!-- Veracode END -->


    <!-- Windows BEGIN -->
    <!-- <div class="card mb-4" id="windows">
        <div class="card-body">
            <h2 class="card-title">Windows</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#windows-1">Access Control</a></li>
            </ul>
        </div>
        <div class="card-footer text-muted">
            Posted on September 9, 2018 by
            <a href="#">Seungmoon Rieh</a>
        </div>
    </div> -->
    <!-- Windows END -->


    <!-- GCP BEGIN -->
    <div class="card mb-4" id="gcp-1">
        <div class="card-body">
            <h2 class="card-title">Google Cloud Platform</h2>
            <p class="card-text">How to provision GKE using Redhat7</p>

<pre><code class="bash"># Update YUM with Cloud SDK repo information:
sudo tee -a /etc/yum.repos.d/google-cloud-sdk.repo << EOM
[google-cloud-sdk]
name=Google Cloud SDK
baseurl=https://packages.cloud.google.com/yum/repos/cloud-sdk-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg
https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOM

# Install the Cloud SDK
sudo yum install google-cloud-sdk

# Choose the project and region
gcloud init

sudo yum install kubectl

# You may get errors. Wait until Kubernetes API is enabled for the project. Then try this command again
gcloud container clusters create [CLUSTER_NAME]

gcloud container clusters get-credentials [CLUSTER_NAME]

# Delete the cluster after
gcloud container clusters delete [CLUSTER_NAME]</code></pre>

            <p class="card-text">From this point on, you can just do the following to provision/delete cluster</p>

<pre><code class="bash">gcloud container clusters create [CLUSTER_NAME]

gcloud container clusters delete [CLUSTER_NAME]</code></pre>
        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://cloud.google.com/sdk/docs/quickstart-redhat-centos">Quickstart for Red Hat and Centos</a> | <a href="https://cloud.google.com/kubernetes-engine/docs/quickstart">Quickstart</a>
        </div>
    </div>

    <div class="card mb-4" id="gcp-1">
        <div class="card-body">
            <h2 class="card-title">Load Balancer and Static IP</h2>
            <p class="card-text">Provisioning GKE, Load balancer, Static IP, and Jenkins application</p>

<pre><code class="bash"># Load balancer and static IP

gcloud container clusters create [CLUSTER_NAME]

# Reverve static IP for "jenkins-master" application
gcloud compute addresses create [INGRESS_GLOBLA_STATIC_IP_NAME] --global

kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
kubectl apply -f ingress.yaml

# Wait about 10 mins until application comes up

# To delete ingress, IP, and cluster
kubectl delete ingress [INGRESS_NAME]

gcloud compute addresses delete [INGRESS_GLOBLA_STATIC_IP_NAME] --global

gcloud container clusters delete [CLUSTER_NAME]</code></pre>

        </div>
        <div class="card-footer text-muted">
            Reference: <a href="https://cloud.google.com/kubernetes-engine/docs/tutorials/http-balancer">Setting up HTTP Load Balancing with Ingress</a>
        </div>
    </div>
    <!-- GCP END -->


    <!-- F5 BEGIN -->
    <div class="card mb-4" id="f5">
        <div class="card-body">
            <h2 class="card-title">F5</h2>
            <p class="card-text"></p>
            <ul class="list-unstyled mb-0">
                <li><a href="#f5-1">1. Network Basics</a></li>
            </ul>
        </div>
    </div>

    <div class="card mb-4" id="f5-1">
        <div class="card-body">
            <h2 class="card-title">Network Basics</h2>
            <ul>
                <li>Computers can connect to themselves via 127.0.0.1 (localhost)</li>
                <li>"ipconfig" file provides very useful information</li>
                <li>TCP allows multiple services to share the same physical computer via port
                    <ul>
                        <li>21 - file transfer (FTP)</li>
                        <li>22 - secure shell (SSH)</li>
                        <li>25, 110 - email (SMTP, POP3)</li>
                        <li>80 - web (HTTP)</li>
                        <li>443 - secure web (HTTPS)</li>
                        <li>993, 995 - secure email</li>
                    </ul>
                </li>
                <li>UDP is better suited for streaming media and online games</li>
            </ul>
        </div>
        <div class="card-footer text-muted"></div>
    </div>
    <!-- F5 END -->


    <!-- Aboutme BEGIN -->
    <div class="card mb-4" id="aboutme">
        <div class="card-body">
            <h2 class="card-title">About me</h2>
            <p class="card-text"><a href="https://www.linkedin.com/in/seungmoon">Linkedin</a> | <a href="https://github.com/riehseun">Github</a> | <a href="https://www.facebook.com/seungmoon.rieh">Facebook</a></p>
        </div>
    </div>
    <!-- Aboutme END -->


</div> <!-- /.col-md-12 -->
</div> <!-- /.row -->
</div> <!-- /.container -->


<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Seungmoon Rieh 2020</p>
    </div>
</footer>


</body>

</html>
<!DOCTYPE html>

<html lang="en">

<head>

<!-- Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="Seungmoon Rieh">
<meta name="keywords" content="">

<!-- Title and image -->
<title>Seungmoon Rieh</title>
<link href="/img/seungmoonrieh.jpg" rel="icon">

<!-- CSS -->
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/monokai-sublime.css" rel="stylesheet">
<link href="/css/site.css" rel="stylesheet">

<!-- JavaScript -->
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/highlight.pack.js"></script>
<script type="text/javascript" src="/js/include_html.js"></script>
<script type="text/javascript" src="/js/site.js"></script>

</head>

<body>

<include src="/header.html"></include>

<div class="container">
<div class="row">
<div class="col-md-12">
<h1 class="my-4">Software Engineering</h1>

<!-- Merge interval BEGIN -->
<div class="card mb-4" id="merge-interval">
  <div class="card-body">
    <h2 class="card-title">Two pointer</h2>
    <ul class="list-unstyled mb-0">
      <li><a href="#merge-interval-1">Merge interval</a></li>
      <li><a href="#merge-interval-2">Insert interval</a></li>
      <li><a href="#merge-interval-3">Interval intersection</a></li>
      <li><a href="#merge-interval-4">Free time</a></li>
      <li><a href="#merge-interval-5">Meeting room</a></li>
    </ul>
  </div>
</div>

<div class="card mb-4" id="merge-interval-1">
  <div class="card-body">
    <h2 class="card-title">Merge interval</h2>

    <h3 class="card-title">1. Loop through intervals.</h3>
    <ul>
      <li>Save the first interval into the result array.</li>
      <li>While iterating the rest of intervals.</li>
      <ul>
        <li>If the end of the last interval is greater than the current, then there is an overlap.</li>
        <li>Then, merge these two intervals.</li>
        <li>Else, just append the current interval to the result array.</li>
      </ul>
      <li>Time: O(n) where n is the number of intervals.</li>
      <li>Space: O(n).</li>
    </ul>

<pre><code class="python">class Interval:
    def __init__(self, start, end):
        self.start = start
        self.end = end
        self.closed = True


def merge_intervals(v):

    if len(v) <= 1:
        return v

    intervals = []
    # Keep the first interval.
    intervals.append(v[0])

    for interval in v[1:]:
        # If overlap is found.
        if intervals[-1].end >= interval.start:
            old = intervals.pop()
            new = Interval(old.start, max(old.end, interval.end))
            intervals.append(new)
        else:
            intervals.append(interval)

    return intervals</code></pre>

    <h3 class="card-title">Test cases</h3>
    <ul>
      <li>Empty intervals. ([])</li>
      <li>Negative intervals.</li>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://www.educative.io/courses/grokking-coding-interview-patterns-python">Grokking Coding Interview Patterns in Python</a>
  </div>
</div>

<div class="card mb-4" id="merge-interval-2">
  <div class="card-body">
    <h2 class="card-title">Insert interval</h2>

    <h3 class="card-title">1. Order by start time.</h3>
    <ul>
      <li>Add intervals that start before the interval to be inserted into the an array.</li>
      <li>Then, add the interval to be inserted to the array.</li>
      <li>Then, add all other remaining intervals to the array.</li>
      <li>Now perform merge_interval on the array</li>
      <li>Time: O(n) where n is the number of intervals.</li>
      <li>Space: O(n).</li>
    </ul>

<pre><code class="python">def insert_interval(existing_intervals, new_interval):

    result = []

    i = 0
    interval_inserted = False
    while i < len(existing_intervals):
        if existing_intervals[i].start < new_interval.start:
            result.append(existing_intervals[i])
            i += 1
        else:
            if not interval_inserted:
                result.append(new_interval)
                interval_inserted = True
            else:
                result.append(existing_intervals[i])
                i += 1

    if not interval_inserted:
        result.append(new_interval)

    return merge_intervals(result)</code></pre>

    <h3 class="card-title">Test cases</h3>
    <ul>
      <li>Insert interval that is ouside the entire range.</li>
      <li>Insert arrays that have intervals with negative numbers.</li>
      <li>Insert an interval that exactly matches one of the existing intervals.</li>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://www.educative.io/courses/grokking-coding-interview-patterns-python">Grokking Coding Interview Patterns in Python</a>
  </div>
</div>

<div class="card mb-4" id="merge-interval-3">
  <div class="card-body">
    <h2 class="card-title">Interval intersection</h2>

    <h3 class="card-title">1. Loop through both lists and move forward in the list whose interval ends earlier first.</h3>
    <ul>
      <li><code>a.start <= b.end and b.start <= a.end</code> is the condition for the intersection to exist.</li>
      <li>Time: O(n+m) where n and m are the lengths of input arrays.</li>
      <li>Space: O(min(n,m))</li>
    </ul>

<pre><code class="python">def intervals_intersection(interval_list_a, interval_list_b):

    intersection = find_intersection(interval_list_a[0], interval_list_b[0])

    result = []
    i = 0
    j = 0
    while i < len(interval_list_a) \
        and j < len(interval_list_b):

        # Check for intersection
        intersection = find_intersection(interval_list_a[i], interval_list_b[j])

        if intersection:
            result.append(intersection)

        if interval_list_a[i].end <= interval_list_b[j].end:
            i += 1
        else:
            j += 1

    return result

def find_intersection(a, b):

    if a.start <= b.end and b.start <= a.end:
        intersection = Interval(max(a.start, b.start), min(a.end, b.end))
    else:
        intersection = None

    return intersection</code></pre>

    <h3 class="card-title">Test cases</h3>
    <ul>
      <li>One of the input arrays are empty.</li>
      <li>Both input arrays are empty.</li>
      <li>input arrays that have intervals with negative numbers.</li>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://www.educative.io/courses/grokking-coding-interview-patterns-python">Grokking Coding Interview Patterns in Python</a>
  </div>
</div>

<div class="card mb-4" id="merge-interval-4">
  <div class="card-body">
    <h2 class="card-title">Free time</h2>

    <h3 class="card-title">1. Sort the interval by the start, and then end by reverse.</h3>
    <ul>
      <li>If any start is after the latest end seen, then there is non-intersection</li>
      <li>Time: O(nlogn) where n length of combined input arrays.</li>
      <li>Space: O(n)</li>
    </ul>

<pre><code class="python">def employee_free_time(schedule):

    result = []

    array = convert_input_to_list(schedule)

    latest_end = 0
    for interval in array:

        if interval[0] > latest_end and latest_end != 0:
                result.append(Interval(latest_end, interval[0]))
        latest_end = max(latest_end, interval[1])

    return result

def convert_input_to_list(schedules):

    flat_array = []

    for schedule in schedules:
        for array in schedule:
            flat_array.append([array.start, array.end])

    flat_array.sort(key = lambda x: (x[0], -x[1]))

    return flat_array</code></pre>

    <h3 class="card-title">Test cases</h3>
    <ul>
      <li>All input arrays are empty.</li>
      <li>There is no free time.</li>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://www.educative.io/courses/grokking-coding-interview-patterns-python">Grokking Coding Interview Patterns in Python</a>
  </div>
</div>

<div class="card mb-4" id="merge-interval-5">
  <div class="card-body">
    <h2 class="card-title">Meeting room</h2>

    <h3 class="card-title">1. Sort the meetings by the start time, and iterate while checking for intersections.</h3>
    <ul>
      <li>Sort all the meetings by start time.</li>
      <li>Initialize a min heap.</li>
      <li>Insert the end time of the first meeting into heap.</li>
      <li>If the minimum end time of all meetings (root of heap) is less than current meeting, update the heap by removing the root.</li>
      <li>Return the height of heap.</li>
      <li>Time: O(nlogn) where n length of input arrays.</li>
      <li>Space: O(n)</li>
    </ul>

<pre><code class="python">from heapq import heappush, heappop

def find_sets(intervals):

    # num_rooms = 0

    heap = []

    intervals.sort(key = lambda x: (x[0]))

    for interval in intervals:

        if not heap:
            heappush(heap, interval[1])  # O(logn)
            # num_rooms += 1
        else:
            # If the earliest end time amongst all meetings is less than or equal
            # to the start time of current meeting, then the current meeting
            # can go in after that end time.
            # Update the earliest end time by removing the root from the min heap.
            if heap[0] <= interval[0]:
                heappop(heap)  # O(logn)
            # else:
            #     num_rooms += 1

            heappush(heap, interval[1])  # O(logn)

    return len(heap)
    # return num_rooms</code></pre>

    <h3 class="card-title">Test cases</h3>
    <ul>
      <li>Empty schedule</li>
      <li>Negative time interval</li>
    </ul>
  </div>
  <div class="card-footer text-muted">
    Reference: <a href="https://www.educative.io/courses/grokking-coding-interview-patterns-python">Grokking Coding Interview Patterns in Python</a>
  </div>
</div>
<!-- Merge interval END -->

</div> <!-- /.col-md-12 -->
</div> <!-- /.row -->
</div> <!-- /.container -->

<include src="/footer.html"></include>

</body>

</html>
<!DOCTYPE html>

<html lang="en">

<head>

<!-- Metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="Seungmoon Rieh">
<meta name="keywords" content="">

<!-- Title and image -->
<title>Seungmoon Rieh</title>
<link href="/img/seungmoonrieh.jpg" rel="icon">

<!-- CSS -->
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/monokai-sublime.css" rel="stylesheet">
<link href="/css/site.css" rel="stylesheet">

<!-- JavaScript -->
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
<script src="/js/highlight.pack.js" type="text/javascript"></script>
<script src="/js/include_html.js" type="text/javascript"></script>
<script src="/js/mathjax/tex-chtml.js" type="text/javascript"></script>
<script src="/js/site.js" type="text/javascript"></script>

</head>

<body>

<include src="/header.html"></include>

<div class="container">
<div class="row">
<div class="col-md-12">
<h1 class="my-4">Machine Learning</h1>

<!-- Chatbot BEGIN -->
<div class="card mb-4" id="chatbot">
  <div class="card-body">
    <h2 class="card-title">Chatbot</h2>
    <ul class="list-unstyled mb-0">
      <li><a href="#chatbot-">Chatbot</a></li>
    </ul>
  </div>
</div>

<div class="card mb-4" id="chatbot-">
  <div class="card-body">
    <h2 class="card-title">Chatbot</h2>

    <img class="img-fluid" class="card-img-top" src="/machine-learning-system-design/image/mlsd-1/1-5-1.png" alt="Card image cap">
    <img class="img-fluid" class="card-img-top" src="/machine-learning-system-design/image/mlsd-1/1-5-2.png" alt="Card image cap">

<pre><code class="markdown">
# Requirement and Problem

What should chatbot do? Generate response upon user query
What type of query does user input? General query
Should chatbot generate response based on domain specific knowledge? Yes
What domain specific knowledge should chatbot contain? Could be company internal information
Does user query include text, image, video? Text only

Is training data available? No
How fast should the generation be? Under 200ms
Should model be deployed to mobile devices? No
Should model be continuously trained? Yes

Problem - generation
Input - user prompt
Output - response

# High-Level Design

# Data and Feature Engineering
N/A

# Model Development

## Architecture
Pre-training
  Training with large corpus to learn general pattern
  Transformer based decoder model
  Loss - cross-entropy to predict likelihood of next token
Fine-tuning
  With pre-trained model, fine-tune with domain specific data
  Transformer based decoder model
  Loss - cross-entropy to predict likelihood of next token
RAG
  Ingest domain specific data into vector database
  Find cosine similarity between user query embedding and document embeddings in vector DB to retrieve top k results
  Use separate re-ranker to find most relevant document
  Call model with user query and document
  No model training but slower due to having to query vector DB and re-ranker

## Training 
N/A

# Inference and evaluation

## Offline
Retriever - recall 
Reranker - precision
Model - factual accuracy, number of harmful response
</code></pre>
  </div>
  <div class="card-footer text-muted">
    Reference:
  </div>
</div>
<!-- Chatbot END -->

</div> <!-- /.col-md-12 -->
</div> <!-- /.row -->
</div> <!-- /.container -->

<include src="/footer.html"></include>

</body>

</html>